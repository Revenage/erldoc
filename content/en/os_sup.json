{"summary":"Interface to OS System Messages","description":"<p> </p><p><span class=\"code\">os_sup</span> is a process providing a message passing service from the operating system to the error logger in the Erlang runtime system. It is part of the OS_Mon application, see <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/os_mon_app\">os_mon(6)</a></span>. Available for Solaris and Windows.</p> <p>Messages received from the operating system results in an user defined callback function being called. This function can do whatever filtering and formatting is necessary and then deploy any type of logging suitable for the user&apos;s application.</p> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-enable-0-id69407\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L161\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"enable-0\" href=\"/erldoc/docs/#enable-0\">enable() -&gt; ok | {error, Res}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-enable-2-id69413\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L161\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"enable-2\" href=\"/erldoc/docs/#enable-2\">enable(Dir, Conf) -&gt; ok | {error, Error}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Dir = Conf = Res = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Enables the <span class=\"code\">os_sup</span> service. Needed on Solaris only.</p> <p>If the configuration parameter <span class=\"code\">os_sup_enable</span> is <span class=\"code\">false</span>, this function is called automatically by <span class=\"code\">os_sup</span>, using the values of <span class=\"code\">os_sup_own</span> and <span class=\"code\">os_sup_syslogconf</span> as arguments.</p> <p>If <span class=\"code\">os_sup_enable</span> is <span class=\"code\">true</span>, this function must be called <strong>before</strong> OS_Mon/<span class=\"code\">os_sup</span> is started. <span class=\"code\">Dir</span> defines the directory which contains the backup copy and the Erlang specific configuration files for <span class=\"code\">syslogd</span>, and a named pipe to receive the messages from <span class=\"code\">syslogd</span>. Defaults to <span class=\"code\">&quot;/etc&quot;</span>. <span class=\"code\">Conf</span> defines the full name of the configuration file for <span class=\"code\">syslogd</span>. Default is <span class=\"code\">&quot;/etc/syslog.conf&quot;</span>.</p> <p>Results in a OS call to:</p> <div class=\"example example-none\"><pre>&lt;PRIVDIR&gt;/bin/mod_syslog otp Dir Conf</pre></div> <p>where <span class=\"code\">&lt;PRIVDIR&gt;</span> is the <span class=\"code\">priv</span> directory of OS_Mon, <span class=\"code\">code:priv_dir(os_mon)</span>.</p> <p>Returns <span class=\"code\">ok</span> if this yields the expected result <span class=\"code\">&quot;0&quot;</span>, and <span class=\"code\">{error, Res}</span> if it yields anything else.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>This function requires root privileges to succeed.</p> <p></p></div></div> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-disable-0-id69566\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L196\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"disable-0\" href=\"/erldoc/docs/#disable-0\">disable() -&gt; ok | {error, Res}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-disable-2-id69572\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L196\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"disable-2\" href=\"/erldoc/docs/#disable-2\">disable(Dir, Conf) -&gt; ok | {error, Error}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Dir = Conf = Res = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Disables the <span class=\"code\">os_sup</span> service. Needed on Solaris only.</p> <p>If the configuration parameter <span class=\"code\">os_sup_enable</span> is <span class=\"code\">false</span>, this function is called automatically by <span class=\"code\">os_sup</span>, using the same arguments as when <span class=\"code\">enable/2</span> was called.</p> <p>If <span class=\"code\">os_sup_enable</span> is <span class=\"code\">true</span>, this function must be called <strong>after</strong> OS_Mon/<span class=\"code\">os_sup</span> is stopped. <span class=\"code\">Dir</span> defines the directory which contains the backup copy and the Erlang specific configuration files for <span class=\"code\">syslogd</span>, and a named pipe to receive the messages from <span class=\"code\">syslogd</span>. Defaults to <span class=\"code\">&quot;/etc&quot;</span>. <span class=\"code\">Conf</span> defines the full name of the configuration file for <span class=\"code\">syslogd</span>. Default is <span class=\"code\">&quot;/etc/syslog.conf&quot;</span>.</p> <p>Results in a OS call to:</p> <div class=\"example example-none\"><pre>&lt;PRIVDIR&gt;/bin/mod_syslog nootp Dir Conf</pre></div> <p>where <span class=\"code\">&lt;PRIVDIR&gt;</span> is the <span class=\"code\">priv</span> directory of OS_Mon, <span class=\"code\">code:priv_dir(os_mon)</span>.</p> <p>Returns <span class=\"code\">ok</span> if this yields the expected result <span class=\"code\">&quot;0&quot;</span>, and <span class=\"code\">{error, Res}</span> if it yields anything else.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>This function requires root privileges to succeed.</p> <p></p></div></div> <p></p></div> "}