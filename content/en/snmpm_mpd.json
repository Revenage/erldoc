{"summary":"Message Processing and Dispatch module for the SNMP manager","description":"<p> </p><p>The module <span class=\"code\">snmpm_mpd</span> implements the version independent Message Processing and Dispatch functionality in SNMP for the manager. It is supposed to be used from a Network Interface process (<span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/snmp/snmp_manager_netif\">Definition of Manager Net if</a></span>). </p> <p>Legacy API function <span class=\"code\">process_msg/7</span> that has got separate <span class=\"code\">IpAddr</span> and <span class=\"code\">PortNumber</span> arguments still works as before for backwards compatibility reasons.</p> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-init_mpd-1-id141851\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmpm_mpd.xml#L50\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"init_mpd-1\" href=\"/erldoc/docs/#init_mpd-1\">init_mpd(Vsns) -&gt; mpd_state()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Vsns = [Vsn]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Vsn = v1 | v2 | v3</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function can be called from the net_if process at start-up. The options list defines which versions to use. </p> <p>It also initializes some SNMP counters. <a name=\"process_msg\"></a></p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-process_msg-6-id141895\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmpm_mpd.xml#L66\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"process_msg-6\" href=\"/erldoc/docs/#process_msg-6\">process_msg(Msg, Domain, Addr, State, NoteStore, Logger) -&gt; {ok, Vsn, Pdu, PduMS, MsgData} | {discarded, Reason}</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 17.3</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Msg = binary()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Domain = transportDomainUdpIpv4 | transportDomainUdpIpv6</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Addr = {<span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/inet#type-ip_address\">inet:ip_address(), inet:port_number()</a></span>} </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">State = mpd_state()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">NoteStore = pid()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Logger = function()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Vsn = &apos;version-1&apos; | &apos;version-2&apos; | &apos;version-3&apos;</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Pdu = #pdu</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">PduMs = integer()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MsgData = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Processes an incoming message. Performs authentication and decryption as necessary. The return values should be passed the manager server. </p> <p><span class=\"code\">NoteStore</span> is the <span class=\"code\">pid()</span> of the note-store process.</p> <p><span class=\"code\">Logger</span> is the function used for audit trail logging. </p> <p>In the case when the pdu type is <span class=\"code\">report</span>, <span class=\"code\">MsgData</span> is either <span class=\"code\">ok</span> or <span class=\"code\">{error, ReqId, Reason}</span>. </p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-generate_msg-5-id142004\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmpm_mpd.xml#L94\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"generate_msg-5\" href=\"/erldoc/docs/#generate_msg-5\">generate_msg(Vsn, NoteStore, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Vsn = &apos;version-1&apos; | &apos;version-2&apos; | &apos;version-3&apos;</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">NoteStore = pid()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Pdu = #pdu</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MsgData = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Logger = function()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Packet = binary()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Generates a possibly encrypted packet to be sent to the network. </p> <p><span class=\"code\">NoteStore</span> is the <span class=\"code\">pid()</span> of the note-store process. </p> <p><span class=\"code\">MsgData</span> is the message specific data used in the SNMP message. In SNMPv1 and SNMPv2c, this message data is the community string. In SNMPv3, it is the context information. </p> <p><span class=\"code\">Logger</span> is the function used for audit trail logging. </p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-generate_response_msg-4-id142084\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmpm_mpd.xml#L119\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"generate_response_msg-4\" href=\"/erldoc/docs/#generate_response_msg-4\">generate_response_msg(Vsn, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Vsn = &apos;version-1&apos; | &apos;version-2&apos; | &apos;version-3&apos;</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Pdu = #pdu</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MsgData = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Logger = function()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Packet = binary()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Generates a possibly encrypted response packet to be sent to the network. </p> <p><span class=\"code\">MsgData</span> is the message specific data used in the SNMP message. This value is received from the <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/snmpm_mpd#process_msg\">process_msg</a></span> function. </p> <p></p></div> "}