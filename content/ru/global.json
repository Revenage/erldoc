{"summary":"A global name registration facility.","description":"<p> </p><p>This module consists of the following services:</p> <ul> <li>Registration of global names</li> <li>Global locks</li> <li>Maintenance of the fully connected network</li> </ul> <p>These services are controlled through the process <span class=\"code\">global_name_server</span> that exists on every node. The global name server starts automatically when a node is started. With the term <strong>global</strong> is meant over a system consisting of many Erlang nodes.</p> <p>The ability to globally register names is a central concept in the programming of distributed Erlang systems. In this module, the equivalent of the <span class=\"code\">register/2</span> and <span class=\"code\">whereis/1</span> BIFs (for local name registration) are provided, but for a network of Erlang nodes. A registered name is an alias for a process identifier (pid). The global name server monitors globally registered pids. If a process terminates, the name is also globally unregistered.</p> <p>The registered names are stored in replica global name tables on every node. There is no central storage point. Thus, the translation of a name to a pid is fast, as it is always done locally. For any action resulting in a change to the global name table, all tables on other nodes are automatically updated.</p> <p>Global locks have lock identities and are set on a specific resource. For example, the specified resource can be a pid. When a global lock is set, access to the locked resource is denied for all resources other than the lock requester.</p> <p>Both the registration and lock services are atomic. All nodes involved in these actions have the same view of the information.</p> <p>The global name server also performs the critical task of continuously monitoring changes in node configuration. If a node that runs a globally registered process goes down, the name is globally unregistered. To this end, the global name server subscribes to <span class=\"code\">nodeup</span> and <span class=\"code\">nodedown</span> messages sent from module <span class=\"code\">net_kernel</span>. Relevant Kernel application variables in this context are <span class=\"code\">net_setuptime</span>, <span class=\"code\">net_ticktime</span>, and <span class=\"code\">dist_auto_connect</span>. See also <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/kernel_app#net_setuptime\"><span class=\"code\">kernel(6)</span></a></span>.</p> <p>The name server also maintains a fully connected network. For example, if node <span class=\"code\">N1</span> connects to node <span class=\"code\">N2</span> (which is already connected to <span class=\"code\">N3</span>), the global name servers on the nodes <span class=\"code\">N1</span> and <span class=\"code\">N3</span> ensure that also <span class=\"code\">N1</span> and <span class=\"code\">N3</span> are connected. If this is not desired, command-line flag <span class=\"code\">-connect_all false</span> can be used (see also <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/erl#connect_all\"><span class=\"code\">erl(1)</span></a></span>). In this case, the name registration service cannot be used, but the lock mechanism still works.</p> <p>If the global name server fails to connect nodes (<span class=\"code\">N1</span> and <span class=\"code\">N3</span> in the example), a warning event is sent to the error logger. The presence of such an event does not exclude the nodes to connect later (you can, for example, try command <span class=\"code\">rpc:call(N1, net_adm, ping, [N2])</span> in the Erlang shell), but it indicates a network problem.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>If the fully connected network is not set up properly, try first to increase the value of <span class=\"code\">net_setuptime</span>.</p> <p></p></div></div> <p></p>","funcs":" <a name=\"del_lock-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-del_lock-1-id205721\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>del_lock(Id) -&gt; true</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"del_lock-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-del_lock-2-id205727\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>del_lock(Id, Nodes) -&gt; true</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Id = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-id\">id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Nodes = [node()]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Deletes the lock <span class=\"code\">Id</span> synchronously.</p> <p></p></div> <a name=\"notify_all_name-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-notify_all_name-3-id205721\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L111\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>notify_all_name(Name, Pid1, Pid2) -&gt; none</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid1 = Pid2 = pid()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Can be used as a name resolving function for <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#register_name-3\"><span class=\"code\">register_name/3</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#re_register_name-3\"><span class=\"code\">re_register_name/3</span></a></span>.</p> <p>The function unregisters both pids and sends the message <span class=\"code\">{global_name_conflict, Name, OtherPid}</span> to both processes.</p> <p></p></div> <a name=\"random_exit_name-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-random_exit_name-3-id218078\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L125\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>random_exit_name(Name, Pid1, Pid2) -&gt; pid()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid1 = Pid2 = pid()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Can be used as a name resolving function for <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#register_name-3\"><span class=\"code\">register_name/3</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#re_register_name-3\"><span class=\"code\">re_register_name/3</span></a></span>.</p> <p>The function randomly selects one of the pids for registration and kills the other one.</p> <p></p></div> <a name=\"random_notify_name-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-random_notify_name-3-id218081\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L138\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>random_notify_name(Name, Pid1, Pid2) -&gt; pid()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid1 = Pid2 = pid()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Can be used as a name resolving function for <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#register_name-3\"><span class=\"code\">register_name/3</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#re_register_name-3\"><span class=\"code\">re_register_name/3</span></a></span>.</p> <p>The function randomly selects one of the pids for registration, and sends the message <span class=\"code\">{global_name_conflict, Name}</span> to the other pid.</p> <p></p></div> <a name=\"re_register_name-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-re_register_name-2-id218328\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L152\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>re_register_name(Name, Pid) -&gt; yes</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"re_register_name-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-re_register_name-3-id218320\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L152\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>re_register_name(Name, Pid, Resolve) -&gt; yes</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid = pid()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Resolve = method()</span></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">method() = <br>&#xA0;&#xA0;&#xA0;&#xA0;fun((Name :: term(), Pid :: pid(), Pid2 :: pid()) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pid() | none)</span><br></div><div class=\"REFBODY rb-1\">{<span class=\"code\">Module</span>, <span class=\"code\">Function</span>} is also allowed. </div></div><div class=\"REFBODY rb-7\"><p> </p><p>Atomically changes the registered name <span class=\"code\">Name</span> on all nodes to refer to <span class=\"code\">Pid</span>.</p> <p>Function <span class=\"code\">Resolve</span> has the same behavior as in <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#register_name-2\"><span class=\"code\">register_name/2,3</span></a></span>. </p> <p></p></div> <a name=\"register_name-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-register_name-2-id218318\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L169\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>register_name(Name, Pid) -&gt; yes | no</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"register_name-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-register_name-3-id218328\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L169\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>register_name(Name, Pid, Resolve) -&gt; yes | no</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid = pid()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Resolve = method()</span></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">method() = <br>&#xA0;&#xA0;&#xA0;&#xA0;fun((Name :: term(), Pid :: pid(), Pid2 :: pid()) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;pid() | none)</span><br></div><div class=\"REFBODY rb-1\">{<span class=\"code\">Module</span>, <span class=\"code\">Function</span>} is also allowed for backward compatibility, but its use is deprecated. </div></div><div class=\"REFBODY rb-7\"><p> </p><p>Globally associates name <span class=\"code\">Name</span> with a pid, that is, globally notifies all nodes of a new global name in a network of Erlang nodes.</p> <p>When new nodes are added to the network, they are informed of the globally registered names that already exist. The network is also informed of any global names in newly connected nodes. If any name clashes are discovered, function <span class=\"code\">Resolve</span> is called. Its purpose is to decide which pid is correct. If the function crashes, or returns anything other than one of the pids, the name is unregistered. This function is called once for each name clash.</p> <div class=\"warning\"><div class=\"label\">Warning</div><div class=\"content\"><p> </p><p>If you plan to change code without restarting your system, you must use an external fun (<span class=\"code\">fun Module:Function/Arity</span>) as function <span class=\"code\">Resolve</span>. If you use a local fun, you can never replace the code for the module that the fun belongs to.</p> <p></p></div></div> <p>Three predefined resolve functions exist: <span class=\"code\">random_exit_name/3</span>, <span class=\"code\">random_notify_name/3</span>, and <span class=\"code\">notify_all_name/3</span>. If no <span class=\"code\">Resolve</span> function is defined, <span class=\"code\">random_exit_name</span> is used. This means that one of the two registered processes is selected as correct while the other is killed.</p> <p>This function is completely synchronous, that is, when this function returns, the name is either registered on all nodes or none.</p> <p>The function returns <span class=\"code\">yes</span> if successful, <span class=\"code\">no</span> if it fails. For example, <span class=\"code\">no</span> is returned if an attempt is made to register an already registered process or to register a process with a name that is already in use.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>Releases up to and including Erlang/OTP R10 did not check if the process was already registered. The global name table could therefore become inconsistent. The old (buggy) behavior can be chosen by giving the Kernel application variable <span class=\"code\">global_multi_name_action</span> the value <span class=\"code\">allow</span>.</p> <p></p></div></div> <p>If a process with a registered name dies, or the node goes down, the name is unregistered on all nodes.</p> <p></p></div> <a name=\"registered_names-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-registered_names-0-id218846\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L223\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>registered_names() -&gt; [Name]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns a list of all globally registered names.</p> <p></p></div> <a name=\"send-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-send-2-id218846\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L231\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>send(Name, Msg) -&gt; Pid</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = Msg = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Pid = pid()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sends message <span class=\"code\">Msg</span> to the pid globally registered as <span class=\"code\">Name</span>.</p> <p>If <span class=\"code\">Name</span> is not a globally registered name, the calling function exits with reason <span class=\"code\">{badarg, {Name, Msg}}</span>.</p> <p></p></div> <a name=\"set_lock-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-set_lock-1-id219040\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L243\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>set_lock(Id) -&gt; boolean()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"set_lock-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-set_lock-2-id219046\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L243\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>set_lock(Id, Nodes) -&gt; boolean()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"set_lock-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-set_lock-3-id219046\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L243\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>set_lock(Id, Nodes, Retries) -&gt; boolean()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Id = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-id\">id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Nodes = [node()]</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Retries = retries()</span></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">id() = {ResourceId :: term(), LockRequesterId :: term()}</span><br></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">retries() = integer() &gt;= 0 | infinity</span><br></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sets a lock on the specified nodes (or on all nodes if none are specified) on <span class=\"code\">ResourceId</span> for <span class=\"code\">LockRequesterId</span>. If a lock already exists on <span class=\"code\">ResourceId</span> for another requester than <span class=\"code\">LockRequesterId</span>, and <span class=\"code\">Retries</span> is not equal to <span class=\"code\">0</span>, the process sleeps for a while and tries to execute the action later. When <span class=\"code\">Retries</span> attempts have been made, <span class=\"code\">false</span> is returned, otherwise <span class=\"code\">true</span>. If <span class=\"code\">Retries</span> is <span class=\"code\">infinity</span>, <span class=\"code\">true</span> is eventually returned (unless the lock is never released).</p> <p>If no value for <span class=\"code\">Retries</span> is specified, <span class=\"code\">infinity</span> is used.</p> <p>This function is completely synchronous.</p> <p>If a process that holds a lock dies, or the node goes down, the locks held by the process are deleted.</p> <p>The global name server keeps track of all processes sharing the same lock, that is, if two processes set the same lock, both processes must delete the lock.</p> <p>This function does not address the problem of a deadlock. A deadlock can never occur as long as processes only lock one resource at a time. A deadlock can occur if some processes try to lock two or more resources. It is up to the application to detect and rectify a deadlock.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>Avoid the following values of <span class=\"code\">ResourceId</span>, otherwise Erlang/OTP does not work properly:</p> <ul> <li><span class=\"code\">dist_ac</span></li> <li><span class=\"code\">global</span></li> <li><span class=\"code\">mnesia_adjust_log_writes</span></li> <li><span class=\"code\">mnesia_table_lock</span></li> <li><span class=\"code\">pg2</span></li> </ul> <p></p></div></div> <p></p></div> <a name=\"sync-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-sync-0-id219415\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L289\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>sync() -&gt; ok | {error, Reason :: term()}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p>Synchronizes the global name server with all nodes known to this node. These are the nodes that are returned from <span class=\"code\">erlang:nodes()</span>. When this function returns, the global name server receives global information from all nodes. This function can be called when new nodes are added to the network.</p> <p>The only possible error reason <span class=\"code\">Reason</span> is <span class=\"code\">{&quot;global_groups definition error&quot;, Error}</span>.</p> <p></p></div> <a name=\"trans-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-trans-2-id219496\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L304\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>trans(Id, Fun) -&gt; Res | aborted</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"trans-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-trans-3-id219546\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L304\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>trans(Id, Fun, Nodes) -&gt; Res | aborted</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"trans-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-trans-4-id219483\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L304\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>trans(Id, Fun, Nodes, Retries) -&gt; Res | aborted</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Id = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-id\">id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Fun = trans_fun()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Nodes = [node()]</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Retries = retries()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Res = term()</span></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">retries() = integer() &gt;= 0 | infinity</span><br></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">trans_fun() = function() | {module(), atom()}</span><br></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sets a lock on <span class=\"code\">Id</span> (using <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#set_lock-3\"><span class=\"code\">set_lock/3</span></a></span>). If this succeeds, <span class=\"code\">Fun()</span> is evaluated and the result <span class=\"code\">Res</span> is returned. Returns <span class=\"code\">aborted</span> if the lock attempt fails. If <span class=\"code\">Retries</span> is set to <span class=\"code\">infinity</span>, the transaction does not abort.</p> <p><span class=\"code\">infinity</span> is the default setting and is used if no value is specified for <span class=\"code\">Retries</span>.</p> <p></p></div> <a name=\"unregister_name-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-unregister_name-1-id219493\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L324\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>unregister_name(Name) -&gt; term()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Removes the globally registered name <span class=\"code\">Name</span> from the network of Erlang nodes.</p> <p></p></div> <a name=\"whereis_name-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-whereis_name-1-id219509\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global.xml#L333\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>whereis_name(Name) -&gt; pid() | undefined</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns the pid with the globally registered name <span class=\"code\">Name</span>. Returns <span class=\"code\">undefined</span> if the name is not globally registered.</p> <p></p></div> ","name":"global"}