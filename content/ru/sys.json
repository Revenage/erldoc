{"summary":"A functional interface to system messages.","description":"<p> </p><p>This module contains functions for sending system messages used by programs, and messages used for debugging purposes.</p> <p>Functions used for implementation of processes are also expected to understand system messages, such as debug messages and code change. These functions must be used to implement the use of system messages for a process; either directly, or through standard behaviors, such as <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_server\"><span class=\"code\">gen_server</span></a></span>.</p> <p>The default time-out is 5000 ms, unless otherwise specified. <span class=\"code\">timeout</span> defines the time to wait for the process to respond to a request. If the process does not respond, the function evaluates <span class=\"code\">exit({timeout, {M, F, A}})</span>. </p> <a name=\"dbg_opt\"></a> <p>The functions make references to a debug structure. The debug structure is a list of <span class=\"code\">dbg_opt()</span>, which is an internal data type used by function <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#handle_system_msg-6\"><span class=\"code\">handle_system_msg/6</span></a></span>. No debugging is performed if it is an empty list.</p> <p></p>","funcs":" <a name=\"change_code-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-change_code-4-id359740\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L310\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>change_code(Name, Module, OldVsn, Extra) -&gt; ok | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"change_code-5\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-change_code-5-id359733\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L310\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>change_code(Name, Module, OldVsn, Extra, Timeout) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;ok | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Module = module()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">OldVsn = undefined | term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Extra = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Tells the process to change code. The process must be suspended to handle this message. Argument <span class=\"code\">Extra</span> is reserved for each process to use as its own. Function <span class=\"code\">Module:system_code_change/4</span> is called. <span class=\"code\">OldVsn</span> is the old version of the <span class=\"code\">Module</span>.</p> <p></p></div> <a name=\"get_state-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_state-1-id359808\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L324\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_state(Name) -&gt; State</div></td><td class=\"func-since-td\"><span class=\"since\">OTP R16B01</span></td></tr></tbody></table><a name=\"get_state-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_state-2-id359755\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L324\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_state(Name, Timeout) -&gt; State</div></td><td class=\"func-since-td\"><span class=\"since\">OTP R16B01</span></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">State = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Gets the state of the process.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>These functions are intended only to help with debugging. They are provided for convenience, allowing developers to avoid having to create their own state extraction functions and also avoid having to interactively extract the state from the return values of <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-1\"><span class=\"code\">get_status/1</span></a></span> or <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-2\"><span class=\"code\">get_status/2</span></a></span> while debugging.</p> <p></p></div></div> <p>The value of <span class=\"code\">State</span> varies for different types of processes, as follows:</p> <ul> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_server\"><span class=\"code\">gen_server</span></a></span> process, the returned <span class=\"code\">State</span> is the state of the callback module.</p> </li> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_statem\"><span class=\"code\">gen_statem</span></a></span> process, <span class=\"code\">State</span> is the tuple <span class=\"code\">{CurrentState,CurrentData}</span>.</p> </li> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_event\"><span class=\"code\">gen_event</span></a></span> process, <span class=\"code\">State</span> is a list of tuples, where each tuple corresponds to an event handler registered in the process and contains <span class=\"code\">{Module, Id, HandlerState}</span>, as follows:</p> <dl> <dt><strong><span class=\"code\">Module</span></strong></dt> <dd> <p>The module name of the event handler.</p> </dd> <dt><strong><span class=\"code\">Id</span></strong></dt> <dd> <p>The ID of the handler (which is <span class=\"code\">false</span> if it was registered without an ID).</p> </dd> <dt><strong><span class=\"code\">HandlerState</span></strong></dt> <dd> <p>The state of the handler.</p> </dd> </dl> </li> </ul> <p>If the callback module exports a function <span class=\"code\">system_get_state/1</span>, it is called in the target process to get its state. Its argument is the same as the <span class=\"code\">Misc</span> value returned by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-1\"><span class=\"code\">get_status/1,2</span></a></span>, and function <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:system_get_state-1\"><span class=\"code\">Module:system_get_state/1</span></a></span> is expected to extract the state of the callback module from it. Function <span class=\"code\">system_get_state/1</span> must return <span class=\"code\">{ok, State}</span>, where <span class=\"code\">State</span> is the state of the callback module.</p> <p>If the callback module does not export a <span class=\"code\">system_get_state/1</span> function, <span class=\"code\">get_state/1,2</span> assumes that the <span class=\"code\">Misc</span> value is the state of the callback module and returns it directly instead.</p> <p>If the callback module&apos;s <span class=\"code\">system_get_state/1</span> function crashes or throws an exception, the caller exits with error <span class=\"code\">{callback_failed, {Module, system_get_state}, {Class, Reason}}</span>, where <span class=\"code\">Module</span> is the name of the callback module and <span class=\"code\">Class</span> and <span class=\"code\">Reason</span> indicate details of the exception.</p> <p>Function <span class=\"code\">system_get_state/1</span> is primarily useful for user-defined behaviors and modules that implement OTP <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#special_process\">special processes</a></span>. The <span class=\"code\">gen_server</span>, <span class=\"code\">gen_statem</span>, and <span class=\"code\">gen_event</span> OTP behavior modules export this function, so callback modules for those behaviors need not to supply their own.</p> <p>For more information about a process, including its state, see <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-1\"><span class=\"code\">get_status/1</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-2\"><span class=\"code\">get_status/2</span></a></span>.</p> <p></p></div> <a name=\"get_status-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_status-1-id360472\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L408\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_status(Name) -&gt; Status</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"get_status-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_status-2-id360580\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L408\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_status(Name, Timeout) -&gt; Status</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Status = <br>&#xA0;&#xA0;&#xA0;&#xA0;{status, Pid :: pid(), {module, Module :: module()}, [SItem]}</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">SItem = <br>&#xA0;&#xA0;&#xA0;&#xA0;(PDict :: [{Key :: term(), Value :: term()}]) |<br>&#xA0;&#xA0;&#xA0;&#xA0;(SysState :: running | suspended) |<br>&#xA0;&#xA0;&#xA0;&#xA0;(Parent :: pid()) |<br>&#xA0;&#xA0;&#xA0;&#xA0;(Dbg :: [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dbg_opt\">dbg_opt()</a></span>]) |<br>&#xA0;&#xA0;&#xA0;&#xA0;(Misc :: term())</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Gets the status of the process.</p> <p>The value of <span class=\"code\">Misc</span> varies for different types of processes, for example:</p> <ul> <li> <p>A <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_server\"><span class=\"code\">gen_server</span></a></span> process returns the state of the callback module.</p> </li> <li> <p>A <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_statem\"><span class=\"code\">gen_statem</span></a></span> process returns information, such as its current state name and state data.</p> </li> <li> <p>A <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_event\"><span class=\"code\">gen_event</span></a></span> process returns information about each of its registered handlers.</p> </li> </ul> <p>Callback modules for <span class=\"code\">gen_server</span>, <span class=\"code\">gen_statem</span>, and <span class=\"code\">gen_event</span> can also change the value of <span class=\"code\">Misc</span> by exporting a function <span class=\"code\">format_status/2</span>, which contributes module-specific information. For details, see <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/gen_server#Module:format_status-2\"><span class=\"code\">gen_server:format_status/2</span></a></span>, <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/gen_statem#Module:format_status-2\"><span class=\"code\">gen_statem:format_status/2</span></a></span>, and <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/gen_event#Module:format_status-2\"><span class=\"code\">gen_event:format_status/2</span></a></span>.</p> <p></p></div> <a name=\"install-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-install-2-id360806\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L446\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>install(Name, FuncSpec) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"install-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-install-3-id360531\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L446\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>install(Name, FuncSpec, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">FuncSpec = {Func, FuncState} | {FuncId, Func, FuncState}</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">FuncId = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Func = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dbg_fun\">dbg_fun()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">FuncState = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Enables installation of alternative debug functions. An example of such a function is a trigger, a function that waits for some special event and performs some action when the event is generated. For example, turning on low-level tracing.</p> <p><span class=\"code\">Func</span> is called whenever a system event is generated. This function is to return <span class=\"code\">done</span>, or a new <span class=\"code\">Func</span> state. In the first case, the function is removed. It is also removed if the function fails. If one debug function should be installed more times, a unique <span class=\"code\">FuncId</span> must be specified for each installation.</p> <p></p></div> <a name=\"log-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-log-2-id360866\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L464\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>log(Name, Flag) -&gt; ok | {ok, [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-system_event\">system_event()</a></span>]}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"log-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-log-3-id360836\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L464\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>log(Name, Flag, Timeout) -&gt; ok | {ok, [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-system_event\">system_event()</a></span>]}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Flag = true | {true, N :: integer() &gt;= 1} | false | get | print</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Turns the logging of system events on or off. If on, a maximum of <span class=\"code\">N</span> events are kept in the debug structure (default is 10).</p> <p>If <span class=\"code\">Flag</span> is <span class=\"code\">get</span>, a list of all logged events is returned.</p> <p>If <span class=\"code\">Flag</span> is <span class=\"code\">print</span>, the logged events are printed to <span class=\"code\">standard_io</span>.</p> <p>The events are formatted with a function that is defined by the process that generated the event (with a call to <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#handle_debug-4\"><span class=\"code\">handle_debug/4</span>)</a></span>.</p> <p></p></div> <a name=\"log_to_file-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-log_to_file-2-id361237\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L483\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>log_to_file(Name, Flag) -&gt; ok | {error, open_file}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"log_to_file-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-log_to_file-3-id361233\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L483\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>log_to_file(Name, Flag, Timeout) -&gt; ok | {error, open_file}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Flag = (FileName :: string()) | false</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Enables or disables the logging of all system events in text format to the file. The events are formatted with a function that is defined by the process that generated the event (with a call to <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#handle_debug-4\"><span class=\"code\">handle_debug/4</span></a></span>). The file is opened with encoding UTF-8.</p> <p></p></div> <a name=\"no_debug-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-no_debug-1-id361205\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L496\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>no_debug(Name) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"no_debug-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-no_debug-2-id361409\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L496\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>no_debug(Name, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Turns off all debugging for the process. This includes functions that are installed explicitly with function <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#install-2\"><span class=\"code\">install/2,3</span></a></span>, for example, triggers.</p> <p></p></div> <a name=\"remove-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-remove-2-id361463\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L508\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>remove(Name, FuncOrFuncId :: Func | FuncId) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"remove-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-remove-3-id361534\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L508\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>remove(Name, FuncOrFuncId :: Func | FuncId, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Func = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dbg_fun\">dbg_fun()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">FuncId = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Removes an installed debug function from the process. <span class=\"code\">Func</span> or <span class=\"code\">FuncId</span> must be the same as previously installed.</p> <p></p></div> <a name=\"replace_state-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-replace_state-2-id361529\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L519\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>replace_state(Name, StateFun) -&gt; NewState</div></td><td class=\"func-since-td\"><span class=\"since\">OTP R16B01</span></td></tr></tbody></table><a name=\"replace_state-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-replace_state-3-id361409\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L519\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>replace_state(Name, StateFun, Timeout) -&gt; NewState</div></td><td class=\"func-since-td\"><span class=\"since\">OTP R16B01</span></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">StateFun = fun((State :: term()) -&gt; NewState :: term())</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">NewState = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Replaces the state of the process, and returns the new state.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>These functions are intended only to help with debugging, and are not to be called from normal code. They are provided for convenience, allowing developers to avoid having to create their own custom state replacement functions.</p> <p></p></div></div> <p>Function <span class=\"code\">StateFun</span> provides a new state for the process. Argument <span class=\"code\">State</span> and the <span class=\"code\">NewState</span> return value of <span class=\"code\">StateFun</span> vary for different types of processes as follows:</p> <ul> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_server\"><span class=\"code\">gen_server</span></a></span> process, <span class=\"code\">State</span> is the state of the callback module and <span class=\"code\">NewState</span> is a new instance of that state.</p> </li> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_statem\"><span class=\"code\">gen_statem</span></a></span> process, <span class=\"code\">State</span> is the tuple <span class=\"code\">{CurrentState,CurrentData}</span>, and <span class=\"code\">NewState</span> is a similar tuple, which can contain a new current state, new state data, or both.</p> </li> <li> <p>For a <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/gen_event\"><span class=\"code\">gen_event</span></a></span> process, <span class=\"code\">State</span> is the tuple <span class=\"code\">{Module, Id, HandlerState}</span> as follows:</p> <dl> <dt><strong><span class=\"code\">Module</span></strong></dt> <dd> <p>The module name of the event handler.</p> </dd> <dt><strong><span class=\"code\">Id</span></strong></dt> <dd> <p>The ID of the handler (which is <span class=\"code\">false</span> if it was registered without an ID).</p> </dd> <dt><strong><span class=\"code\">HandlerState</span></strong></dt> <dd> <p>The state of the handler.</p> </dd> </dl> <p><span class=\"code\">NewState</span> is a similar tuple where <span class=\"code\">Module</span> and <span class=\"code\">Id</span> are to have the same values as in <span class=\"code\">State</span>, but the value of <span class=\"code\">HandlerState</span> can be different. Returning a <span class=\"code\">NewState</span>, whose <span class=\"code\">Module</span> or <span class=\"code\">Id</span> values differ from those of <span class=\"code\">State</span>, leaves the state of the event handler unchanged. For a <span class=\"code\">gen_event</span> process, <span class=\"code\">StateFun</span> is called once for each event handler registered in the <span class=\"code\">gen_event</span> process.</p> </li> </ul> <p>If a <span class=\"code\">StateFun</span> function decides not to effect any change in process state, then regardless of process type, it can return its <span class=\"code\">State</span> argument.</p> <p>If a <span class=\"code\">StateFun</span> function crashes or throws an exception, the original state of the process is unchanged for <span class=\"code\">gen_server</span>, and <span class=\"code\">gen_statem</span> processes. For <span class=\"code\">gen_event</span> processes, a crashing or failing <span class=\"code\">StateFun</span> function means that only the state of the particular event handler it was working on when it failed or crashed is unchanged; it can still succeed in changing the states of other event handlers registered in the same <span class=\"code\">gen_event</span> process.</p> <p>If the callback module exports a <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:system_replace_state-2\"><span class=\"code\">system_replace_state/2</span></a></span> function, it is called in the target process to replace its state using <span class=\"code\">StateFun</span>. Its two arguments are <span class=\"code\">StateFun</span> and <span class=\"code\">Misc</span>, where <span class=\"code\">Misc</span> is the same as the <span class=\"code\">Misc</span> value returned by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#get_status-1\"><span class=\"code\">get_status/1,2</span></a></span>. A <span class=\"code\">system_replace_state/2</span> function is expected to return <span class=\"code\">{ok, NewState, NewMisc}</span>, where <span class=\"code\">NewState</span> is the new state of the callback module, obtained by calling <span class=\"code\">StateFun</span>, and <span class=\"code\">NewMisc</span> is a possibly new value used to replace the original <span class=\"code\">Misc</span> (required as <span class=\"code\">Misc</span> often contains the state of the callback module within it).</p> <p>If the callback module does not export a <span class=\"code\">system_replace_state/2</span> function, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#replace_state-2\"><span class=\"code\">replace_state/2,3</span></a></span> assumes that <span class=\"code\">Misc</span> is the state of the callback module, passes it to <span class=\"code\">StateFun</span> and uses the return value as both the new state and as the new value of <span class=\"code\">Misc</span>.</p> <p>If the callback module&apos;s function <span class=\"code\">system_replace_state/2</span> crashes or throws an exception, the caller exits with error <span class=\"code\">{callback_failed, {Module, system_replace_state}, {Class, Reason}}</span>, where <span class=\"code\">Module</span> is the name of the callback module and <span class=\"code\">Class</span> and <span class=\"code\">Reason</span> indicate details of the exception. If the callback module does not provide a <span class=\"code\">system_replace_state/2</span> function and <span class=\"code\">StateFun</span> crashes or throws an exception, the caller exits with error <span class=\"code\">{callback_failed, StateFun, {Class, Reason}}</span>.</p> <p>Function <span class=\"code\">system_replace_state/2</span> is primarily useful for user-defined behaviors and modules that implement OTP <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#special_process\">special processes</a></span>. The OTP behavior modules <span class=\"code\">gen_server</span>, <span class=\"code\">gen_statem</span>, and <span class=\"code\">gen_event</span> export this function, so callback modules for those behaviors need not to supply their own.</p> <p></p></div> <a name=\"resume-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-resume-1-id362441\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L632\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>resume(Name) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"resume-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-resume-2-id362439\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L632\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>resume(Name, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Resumes a suspended process.</p> <p></p></div> <a name=\"statistics-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-statistics-2-id362627\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L641\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>statistics(Name, Flag) -&gt; ok | {ok, Statistics}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"statistics-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-statistics-3-id362627\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L641\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>statistics(Name, Flag, Timeout) -&gt; ok | {ok, Statistics}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Flag = true | false | get</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Statistics = [StatisticsTuple] | no_statistics</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">StatisticsTuple = <br>&#xA0;&#xA0;&#xA0;&#xA0;{start_time, DateTime1} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{current_time, DateTime2} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{reductions, integer() &gt;= 0} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{messages_in, integer() &gt;= 0} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{messages_out, integer() &gt;= 0}</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">DateTime1 = DateTime2 = <span class=\"bold_code bc-14\"><a href=\"/erldoc/docs/file#type-date_time\">file:date_time()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Enables or disables the collection of statistics. If <span class=\"code\">Flag</span> is <span class=\"code\">get</span>, the statistical collection is returned.</p> <p></p></div> <a name=\"suspend-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-suspend-1-id362408\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L652\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>suspend(Name) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"suspend-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-suspend-2-id362774\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L652\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>suspend(Name, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Suspends the process. When the process is suspended, it only responds to other system messages, but not other messages.</p> <p></p></div> <a name=\"terminate-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-terminate-2-id362670\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L663\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>terminate(Name, Reason) -&gt; ok</div></td><td class=\"func-since-td\"><span class=\"since\">OTP 18.0</span></td></tr></tbody></table><a name=\"terminate-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-terminate-3-id362649\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L663\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>terminate(Name, Reason, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"><span class=\"since\">OTP 18.0</span></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = term()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Orders the process to terminate with the specified <span class=\"code\">Reason</span>. The termination is done asynchronously, so it is not guaranteed that the process is terminated when the function returns.</p> <p></p></div> <a name=\"trace-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-trace-2-id363012\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L675\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>trace(Name, Flag) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"trace-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-trace-3-id363079\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/sys.xml#L675\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>trace(Name, Flag, Timeout) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Flag = boolean()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Prints all system events on <span class=\"code\">standard_io</span>. The events are formatted with a function that is defined by the process that generated the event (with a call to <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#handle_debug-4\"><span class=\"code\">handle_debug/4</span></a></span>). </p> <p></p></div> ","name":"sys"}