{"summary":"Default callback module for the client's and server's database operations in the ssh application","description":"<p> </p><p>This module is the default callback handler for the client&apos;s and the server&apos;s user and host &quot;database&quot; operations. All data, for instance key pairs, are stored in files in the normal file system. This page documents the files, where they are stored and configuration options for this callback module. </p> <p>The intention is to be compatible with the <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.openssh.com\">OpenSSH</a></span> storage in files. Therefore it mimics directories and filenames of <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.openssh.com\">OpenSSH</a></span>. </p> <p>Ssh_file implements the <span class=\"bold_code bc-18\"><a href=\"/erldoc/docs/ssh_server_key_api\">ssh_server_key_api</a></span> and the <span class=\"bold_code bc-18\"><a href=\"/erldoc/docs/ssh_client_key_api\">ssh_client_key_api</a></span>. This enables the user to make an own interface using for example a database handler. </p> <p>Such another callback module could be used by setting the option <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#type-key_cb_common_option\"><span class=\"code\">key_cb</span></a></span> when starting a client or a server (with for example <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#connect-3\">ssh:connect</a></span>, <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#daemon-2\">ssh:daemon</a></span> of <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#shell-1\">ssh:shell</a></span> ). </p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p> </p><p>The functions are <i>Callbacks</i> for the SSH app. They are not intended to be called from the user&apos;s code! </p> <p></p></div></div> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-host_key-2-id88135\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L171\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"host_key-2\" href=\"/erldoc/docs/#host_key-2\">host_key(Algorithm, DaemonOptions) -&gt; {ok, Key} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 21.2</span></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p><strong>Types and description</strong></p> <p>See the api description in <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_server_key_api#Module:host_key-2\">ssh_server_key_api, Module:host_key/2</a></span>. </p> <p><strong>Options</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-system_dir_daemon_option\">system_dir</a></span></li> </ul> <p><strong>Files</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#SYSDIR-ssh_host_rsa_key\"><span class=\"code\">SYSDIR/ssh_host_rsa_key</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#SYSDIR-ssh_host_dsa_key\"><span class=\"code\">SYSDIR/ssh_host_dsa_key</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#SYSDIR-ssh_host_ecdsa_key\"><span class=\"code\">SYSDIR/ssh_host_ecdsa_key</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#SYSDIR-ssh_host_ed25519_key\"><span class=\"code\">SYSDIR/ssh_host_ed25519_key</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#SYSDIR-ssh_host_ed448_key\"><span class=\"code\">SYSDIR/ssh_host_ed448_key</span>c&gt;</a></span></li> </ul> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-is_auth_key-3-id88249\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L197\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"is_auth_key-3\" href=\"/erldoc/docs/#is_auth_key-3\">is_auth_key(PublicUserKey, User, DaemonOptions) -&gt; Result</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 21.2</span></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p><strong>Types and description</strong></p> <p>See the api description in <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_server_key_api#Module:is_auth_key-3\">ssh_server_key_api: Module:is_auth_key/3</a></span>. </p> <p><strong>Options</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-user_dir_fun_common_option\">user_dir_fun</a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-user_dir_common_option\">user_dir</a></span></li> </ul> <p><strong>Files</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-authorized_keys\"><span class=\"code\">USERDIR/authorized_keys</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-authorized_keys2\"><span class=\"code\">USERDIR/authorized_keys2</span></a></span></li> </ul> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-add_host_key-3-id88336\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L218\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"add_host_key-3\" href=\"/erldoc/docs/#add_host_key-3\">add_host_key(HostNames, PublicHostKey, ConnectOptions) -&gt; ok | {error, Reason}</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 21.2</span></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p><strong>Types and description</strong></p> <p>See the api description in <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_client_key_api#Module:add_host_key-3\">ssh_client_key_api, Module:add_host_key/3</a></span>. </p> <p><strong>Option</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-user_dir_common_option\">user_dir</a></span></li> </ul> <p><strong>File</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-known_hosts\"><span class=\"code\">USERDIR/known_hosts</span></a></span></li> </ul> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-is_host_key-4-id88406\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L237\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"is_host_key-4\" href=\"/erldoc/docs/#is_host_key-4\">is_host_key(Key, Host, Algorithm, ConnectOptions) -&gt; Result</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 21.2</span></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p><strong>Types and description</strong></p> <p>See the api description in <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_client_key_api#Module:is_host_key-4\">ssh_client_key_api, Module:is_host_key/4</a></span>. </p> <p><strong>Option</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-user_dir_common_option\">user_dir</a></span></li> </ul> <p><strong>File</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-known_hosts\"><span class=\"code\">USERDIR/known_hosts</span></a></span></li> </ul> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-user_key-2-id88477\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L256\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"user_key-2\" href=\"/erldoc/docs/#user_key-2\">user_key(Algorithm, ConnectOptions) -&gt; {ok, PrivateKey} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 21.2</span></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p><strong>Types and description</strong></p> <p>See the api description in <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_client_key_api#Module:user_key-2\">ssh_client_key_api, Module:user_key/2</a></span>. </p> <p><strong>Options</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-user_dir_common_option\">user_dir</a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-pubkey_passphrase_client_options\">dsa_pass_phrase</a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-pubkey_passphrase_client_options\">rsa_pass_phrase</a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-pubkey_passphrase_client_options\">ecdsa_pass_phrase</a></span></li> </ul> <p>Note that EdDSA passhrases (Curves 25519 and 448) are not implemented.</p> <p><strong>Files</strong></p> <ul> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-id_dsa\"><span class=\"code\">USERDIR/id_dsa</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-id_rsa\"><span class=\"code\">USERDIR/id_rsa</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-id_ecdsa\"><span class=\"code\">USERDIR/id_ecdsa</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-id_ed25519\"><span class=\"code\">USERDIR/id_ed25519</span></a></span></li> <li><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#USERDIR-id_ed448\"><span class=\"code\">USERDIR/id_ed448</span></a></span></li> </ul> <p></p></div> ","name":"ssh_file"}