{"summary":"\n    This module provides API functions to send SSH Connection Protocol \n    events to the other side of an SSH channel.\n  ","description":"<p> </p><p>The <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.ietf.org/rfc/rfc4254.txt\">SSH Connection Protocol</a></span> is used by clients and servers, that is, SSH channels, to communicate over the SSH connection. The API functions in this module send SSH Connection Protocol events, which are received as messages by the remote channel handling the remote channel. The Erlang format of thoose messages is (see also <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-event\">below</a></span>): </p> <p><span class=\"code\">{ssh_cm, </span><span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span><span class=\"code\">, </span><span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-channel_msg\"><span class=\"code\">channel_msg()</span></a></span><span class=\"code\">}</span> </p> <p> If the <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/ssh_client_channel\">ssh_client_channel</a></span> behavior is used to implement the channel process, these messages are handled by <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh_client_channel#Module:handle_ssh_msg-2\">handle_ssh_msg/2</a></span>.</p> <p></p>","funcs":" <a name=\"adjust_window-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-adjust_window-3-id111376\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L256\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>adjust_window(ConnectionRef, ChannelId, NumOfBytes) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">NumOfBytes = integer()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Adjusts the SSH flow control window. This is to be done by both the client- and server-side channel processes.</p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p></p><p>Channels implemented with the <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/ssh_client_channel\">ssh_client_channel</a></span> behavior do not normally need to call this function as flow control is handled by the behavior. The behavior adjusts the window every time the callback <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh_client_channel#Module:handle_ssh_msg-2\">handle_ssh_msg/2</a></span> returns after processing channel data.</p><p></p></div></div> <p></p></div> <a name=\"close-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-close-2-id111384\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L271\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>close(ConnectionRef, ChannelId) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>A server- or client-channel process can choose to close their session by sending a close event. </p> <div class=\"note\"><div class=\"label\">Note</div><div class=\"content\"><p></p><p>This function is called by the <span class=\"code\">ssh_client_channel</span> behavior when the channel is terminated, see <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/ssh_client_channel\">ssh_client_channel(3)</a></span>. Thus, channels implemented with the behavior are not to call this function explicitly.</p><p></p></div></div> <p></p></div> <a name=\"exec-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-exec-4-id111401\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L285\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>exec(ConnectionRef, ChannelId, Command, Timeout) -&gt; <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-result\">result()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Command = string()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Is to be called by a client-channel process to request that the server starts executing the given command. The result is several messages according to the following pattern. The last message is a channel close message, as the <span class=\"code\">exec</span> request is a one-time execution that closes the channel when it is done.</p> <dl> <dt><strong>N x <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-data_ch_msg\">data message(s)</a></span></strong></dt> <dd><p>The result of executing the command can be only one line or thousands of lines depending on the command.</p></dd> <dt><strong>0 or 1 x <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-eof_ch_msg\">eof message</a></span></strong></dt> <dd><p>Indicates that no more data is to be sent.</p></dd> <dt><strong>0 or 1 x <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-exit_signal_ch_msg\">exit signal message</a></span></strong></dt> <dd><p>Not all systems send signals. For details on valid string values, see RFC 4254, Section 6.10</p></dd> <dt><strong>0 or 1 x <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-exit_status_ch_msg\">exit status message</a></span></strong></dt> <dd><p>It is recommended by the SSH Connection Protocol to send this message, but that is not always the case.</p></dd> <dt><strong>1 x <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-closed_ch_msg\">closed status message</a></span></strong></dt> <dd><p>Indicates that the <span class=\"code\">ssh_client_channel</span> started for the execution of the command has now been shut down.</p></dd> </dl> <p>See the User&apos;s Guide section on <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/ssh/using_ssh#one-time-execution\">One-Time Execution</a></span> for examples. </p> <p></p></div> <a name=\"exit_status-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-exit_status-3-id116955\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L320\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>exit_status(ConnectionRef, ChannelId, Status) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Status = integer()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Is to be called by a server-channel process to send the exit status of a command to the client.</p> <p></p></div> <a name=\"ptty_alloc-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-ptty_alloc-3-id116952\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L329\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>ptty_alloc(ConnectionRef, ChannelId, Options) -&gt; <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-result\">result()</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 17.5</span></td></tr></tbody></table><a name=\"ptty_alloc-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-ptty_alloc-4-id116953\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L329\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>ptty_alloc(ConnectionRef, ChannelId, Options, Timeout) -&gt; <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-result\">result()</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 17.4</span></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Options = <span class=\"bold_code bc-14\"><a href=\"/erldoc/docs/proplists#type-proplist\">proplists:proplist()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sends an SSH Connection Protocol <span class=\"code\">pty_req</span>, to allocate a pseudo-terminal. Is to be called by an SSH client process.</p> <p>Options:</p> <dl> <dt><strong>{term, string()}</strong></dt> <dd><p>Defaults to <strong>os:getenv(&quot;TERM&quot;)</strong> or <strong>vt100</strong> if it is undefined.</p></dd> <dt><strong>{width, integer()}</strong></dt> <dd><p>Defaults to 80 if <span class=\"code\">pixel_width</span> is not defined.</p></dd> <dt><strong>{height, integer()}</strong></dt> <dd><p>Defaults to 24 if <span class=\"code\">pixel_height</span> is not defined.</p></dd> <dt><strong>{pixel_width, integer()}</strong></dt> <dd><p>Is disregarded if <span class=\"code\">width</span> is defined.</p></dd> <dt><strong>{pixel_height, integer()}</strong></dt> <dd><p>Is disregarded if <span class=\"code\">height</span> is defined.</p></dd> <dt><strong>{pty_opts, [{posix_atom(), integer()}]}</strong></dt> <dd><p>Option can be an empty list. Otherwise, see possible <strong>POSIX</strong> names in Section 8 in <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.ietf.org/rfc/rfc4254.txt\"> RFC 4254</a></span>.</p> </dd> </dl> <p></p></div> <a name=\"reply_request-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-reply_request-4-id117318\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L364\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>reply_request(ConnectionRef, WantReply, Status, ChannelId) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">WantReply = boolean()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Status = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-req_status\">req_status()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sends status replies to requests where the requester has stated that it wants a status report, that is, <span class=\"code\">WantReply = true</span>. If <span class=\"code\">WantReply</span> is <span class=\"code\">false</span>, calling this function becomes a &quot;noop&quot;. Is to be called while handling an SSH Connection Protocol message containing a <span class=\"code\">WantReply</span> boolean value.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-send-3-id86631\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L376\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"send-3\" href=\"/erldoc/docs/#send-3\">send(ConnectionRef, ChannelId, Data) -&gt;</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-send-4-id86637\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L376\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"send-4\" href=\"/erldoc/docs/#send-4\">send(ConnectionRef, ChannelId, Data, Timeout) -&gt;</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-send-4-id86643\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L376\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"send-4\" href=\"/erldoc/docs/#send-4\">send(ConnectionRef, ChannelId, Type, Data) -&gt;</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-send-5-id86650\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L376\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"send-5\" href=\"/erldoc/docs/#send-5\">send(ConnectionRef, ChannelId, Type, Data, TimeOut) -&gt; ok | Error</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ConnectionRef = <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ChannelId = <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Data = binary()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Type = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-ssh_data_type_code\">ssh_data_type_code()</a></span></span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Timeout = timeout()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Error = {error, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-reason\">reason()</a></span>}</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Is to be called by client- and server-channel processes to send data to each other. </p> <p>The function <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_connection#subsystem-4\">subsystem/4</a></span> and subsequent calls of <span class=\"code\">send/3,4,5</span> must be executed in the same process. </p> <p></p></div> <a name=\"send_eof-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-send_eof-2-id117846\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L400\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>send_eof(ConnectionRef, ChannelId) -&gt; ok | {error, closed}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Sends EOF on channel <span class=\"code\">ChannelId</span>.</p> <p></p></div> <a name=\"session_channel-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-session_channel-2-id117882\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L408\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>session_channel(ConnectionRef, Timeout) -&gt; Result</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"session_channel-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-session_channel-4-id117837\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L408\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>session_channel(ConnectionRef, InitialWindowSize, MaxPacketSize,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Timeout) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;Result</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">InitialWindowSize = MaxPacketSize = integer() &gt;= 1</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Result = {ok, <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span>} | {error, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-reason\">reason()</a></span>}</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Opens a channel for an SSH session. The channel id returned from this function is the id used as input to the other functions in this module.</p> <p></p></div> <a name=\"setenv-5\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-setenv-5-id117844\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L418\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>setenv(ConnectionRef, ChannelId, Var, Value, Timeout) -&gt; <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-result\">result()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Var = Value = string()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\"></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Environment variables can be passed before starting the shell/command. Is to be called by a client channel processes.</p> <p></p></div> <a name=\"shell-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-shell-2-id118112\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L428\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>shell(ConnectionRef, ChannelId) -&gt; Result</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Result = ok | success | failure | {error, timeout}</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Is to be called by a client channel process to request that the user default shell (typically defined in /etc/passwd in Unix systems) is executed at the server end.</p> <p>Note: the return value is <span class=\"code\">ok</span> instead of <span class=\"code\">success</span> unlike in other functions in this module. This is a fault that was introduced so long ago that any change would break a large number of existing software. </p> <p></p></div> <a name=\"subsystem-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-subsystem-4-id118099\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_connection.xml#L443\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>subsystem(ConnectionRef, ChannelId, Subsystem, Timeout) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-result\">result()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ConnectionRef = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-connection_ref\">ssh:connection_ref()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">ChannelId = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ssh#type-channel_id\">ssh:channel_id()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Subsystem = string()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Is to be called by a client-channel process for requesting to execute a predefined subsystem on the server. </p> <p>The function <span class=\"code\">subsystem/4</span> and subsequent calls of <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/ssh_connection#send-3\">send/3,4,5</a></span> must be executed in the same process. </p> <p></p></div> ","name":"ssh_connection"}