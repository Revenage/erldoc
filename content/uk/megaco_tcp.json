{"summary":"Interface module to TPKT transport protocol for Megaco/H.248.","description":"<p> </p><p>This module contains the public interface to the TPKT (TCP/IP) version transport protocol for Megaco/H.248.</p> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-start_transport-0-id86918\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L42\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"start_transport-0\" href=\"/erldoc/docs/#start_transport-0\">start_transport() -&gt; {ok, TransportRef}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TransportRef = pid()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function is used for starting the TCP/IP transport service. Use exit(TransportRef, Reason) to stop the transport service.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-listen-2-id86948\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L53\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"listen-2\" href=\"/erldoc/docs/#listen-2\">listen(TransportRef, ListenPortSpecList) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TransportRef = pid() | regname()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">OptionListPerPort = [Option]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Option = {port, integer()} |{options, list()} |{receive_handle, term()}</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function is used for starting new TPKT listening socket for TCP/IP. The option list contains the socket definitions.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-connect-2-id86987\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L67\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"connect-2\" href=\"/erldoc/docs/#connect-2\">connect(TransportRef, OptionList) -&gt; {ok, Handle, ControlPid} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TransportRef = pid() | regname()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">OptionList = [Option]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Option = {host, Ipaddr} | {port, integer()} |{options, list()} |{receive_handle, term()} |{module, atom()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ControlPid = pid()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function is used to open a TPKT connection.</p> <p>The <span class=\"code\">module</span> option makes it possible for the user to provide their own callback module. The <span class=\"code\">receive_message/4</span> or <span class=\"code\">process_received_message/4</span> functions of this module is called when a new message is received (which one depends on the size of the message; small - receive_message, large - process_received_message). Default value is <strong>megaco</strong>.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-close-1-id87059\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L88\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"close-1\" href=\"/erldoc/docs/#close-1\">close(Handle) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function is used for closing an active TPKT connection.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-socket-1-id87089\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L98\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"socket-1\" href=\"/erldoc/docs/#socket-1\">socket(Handle) -&gt; Socket</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Socket = inet_socket()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>This function is used to convert a socket_handle() to a inet_socket(). inet_socket() is a plain socket, see the inet module for more info.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-send_message-2-id87124\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L111\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"send_message-2\" href=\"/erldoc/docs/#send_message-2\">send_message(Handle, Message) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Message = binary() | iolist()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Sends a message on a connection.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-block-1-id87158\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L122\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"block-1\" href=\"/erldoc/docs/#block-1\">block(Handle) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Stop receiving incoming messages on the socket.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-unblock-1-id87188\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L132\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"unblock-1\" href=\"/erldoc/docs/#unblock-1\">unblock(Handle) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Handle = socket_handle()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Starting to receive incoming messages from the socket again.</p> <a name=\"upgrade_receive_handle\"></a> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-upgrade_receive_handle-1-id87222\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L143\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"upgrade_receive_handle-1\" href=\"/erldoc/docs/#upgrade_receive_handle-1\">upgrade_receive_handle(ControlPid) -&gt; ok</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ControlPid = pid()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Update the receive handle of the control process (e.g. after having changed protocol version).</p> <a name=\"stats\"></a> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-get_stats-0-id87258\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L155\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"get_stats-0\" href=\"/erldoc/docs/#get_stats-0\">get_stats() -&gt; {ok, TotalStats} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-get_stats-1-id87264\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L155\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"get_stats-1\" href=\"/erldoc/docs/#get_stats-1\">get_stats(SendHandle) -&gt; {ok, SendHandleStats} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-get_stats-2-id87270\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L155\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"get_stats-2\" href=\"/erldoc/docs/#get_stats-2\">get_stats(SendHandle, Counter) -&gt; {ok, CounterStats} | {error, Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TotalStats = [send_handle_stats()]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">total_stats() = {send_handle(), [stats()]}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SendHandle = send_handle()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SendHandleStats = [stats()]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Counter = tcp_stats_counter()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CounterStats = integer()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">stats() = {tcp_stats_counter(), integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">tcp_stats_counter() = medGwyGatewayNumInMessages | medGwyGatewayNumInOctets | medGwyGatewayNumOutMessages | medGwyGatewayNumOutOctets | medGwyGatewayNumErrors</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Retreive the TCP related (SNMP) statistics counters.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-reset_stats-0-id87333\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L175\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"reset_stats-0\" href=\"/erldoc/docs/#reset_stats-0\">reset_stats() -&gt; void()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-reset_stats-1-id87339\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/megaco/doc/src/megaco_tcp.xml#L175\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"reset_stats-1\" href=\"/erldoc/docs/#reset_stats-1\">reset_stats(SendHandle) -&gt; void()</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SendHandle = send_handle()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Reset all TCP related (SNMP) statistics counters.</p> <p></p></div> ","name":"megaco_tcp"}