{"summary":"A rudimentary DNS client.","description":"<p> </p><p>This module performs DNS name resolving to recursive name servers.</p> <p>See also <span class=\"bold_code bc-18\"><a href=\"/erldoc/docs/../apps/erts/inet_cfg\">ERTS User&apos;s Guide: Inet Configuration</a></span> for more information about how to configure an Erlang runtime system for IP communication, and how to enable this DNS client by defining <span class=\"code\">&apos;dns&apos;</span> as a lookup method. The DNS client then acts as a backend for the resolving functions in <span class=\"bold_code bc-18\"><a href=\"/erldoc/docs/inet\"><span class=\"code\">inet</span></a></span>.</p> <p>This DNS client can resolve DNS records even if it is not used for normal name resolving in the node.</p> <p>This is not a full-fledged resolver, only a DNS client that relies on asking trusted recursive name servers.</p> <p></p>","funcs":" <a name=\"getbyname-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-getbyname-2-id218595\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L187\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>getbyname(Name, Type) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"getbyname-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-getbyname-3-id218660\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L187\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>getbyname(Name, Type, Timeout) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_name\">dns_name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Type = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-rr_type\">rr_type()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Hostent = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-hostent\">inet:hostent()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-posix\">inet:posix()</a></span> | <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_error\">res_error()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Resolves a DNS record of the specified type for the specified host, of class <span class=\"code\">in</span>. Returns, on success, a <span class=\"code\">hostent()</span> record with <span class=\"code\">dns_data()</span> elements in the address list field.</p> <p>This function uses resolver option <span class=\"code\">search</span> that is a list of domain names. If the name to resolve contains no dots, it is prepended to each domain name in the search list, and they are tried in order. If the name contains dots, it is first tried as an absolute name and if that fails, the search list is used. If the name has a trailing dot, it is supposed to be an absolute name and the search list is not used.</p> <p></p></div> <a name=\"gethostbyaddr-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-gethostbyaddr-1-id218665\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L207\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>gethostbyaddr(Address) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"gethostbyaddr-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-gethostbyaddr-2-id218661\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L207\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>gethostbyaddr(Address, Timeout) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Address = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-ip_address\">inet:ip_address()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Hostent = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-hostent\">inet:hostent()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-posix\">inet:posix()</a></span> | <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_error\">res_error()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Backend functions used by <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/inet#gethostbyaddr-1\"><span class=\"code\">inet:gethostbyaddr/1</span></a></span>. </p> <p></p></div> <a name=\"gethostbyname-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-gethostbyname-1-id218645\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L219\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>gethostbyname(Name) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"gethostbyname-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-gethostbyname-2-id218586\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L219\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>gethostbyname(Name, Family) -&gt; {ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"gethostbyname-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-gethostbyname-3-id218598\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L219\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>gethostbyname(Name, Family, Timeout) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{ok, Hostent} | {error, Reason}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_name\">dns_name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Hostent = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-hostent\">inet:hostent()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Family = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-address_family\">inet:address_family()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-posix\">inet:posix()</a></span> | <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_error\">res_error()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Backend functions used by <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/inet#gethostbyname-1\"><span class=\"code\">inet:gethostbyname/1,2</span></a></span>. </p> <p>This function uses resolver option <span class=\"code\">search</span> just like <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#getbyname-2\"><span class=\"code\">getbyname/2,3</span></a></span>. </p> <p>If resolver option <span class=\"code\">inet6</span> is <span class=\"code\">true</span>, an IPv6 address is looked up.</p> <p></p></div> <a name=\"lookup-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-lookup-3-id218585\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L237\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>lookup(Name, Class, Type) -&gt; [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_data\">dns_data()</a></span>]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"lookup-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-lookup-4-id219206\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L237\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>lookup(Name, Class, Type, Opts) -&gt; [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_data\">dns_data()</a></span>]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"lookup-5\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-lookup-5-id219378\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L237\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>lookup(Name, Class, Type, Opts, Timeout) -&gt; [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_data\">dns_data()</a></span>]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_name\">dns_name()</a></span> | <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-ip_address\">inet:ip_address()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Class = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_class\">dns_class()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Type = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-rr_type\">rr_type()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Opts = [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_option\">res_option()</a></span> | verbose]</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Resolves the DNS data for the record of the specified type and class for the specified name. On success, filters out the answer records with the correct <span class=\"code\">Class</span> and <span class=\"code\">Type</span>, and returns a list of their data fields. So, a lookup for type <span class=\"code\">any</span> gives an empty answer, as the answer records have specific types that are not <span class=\"code\">any</span>. An empty answer or a failed lookup returns an empty list.</p> <p>Calls <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#resolve-3\"><span class=\"code\">resolve/*</span></a></span> with the same arguments and filters the result, so <span class=\"code\">Opts</span> is described for those functions.</p> <p></p></div> <a name=\"resolve-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-resolve-3-id218582\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L259\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>resolve(Name, Class, Type) -&gt; {ok, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_msg\">dns_msg()</a></span>} | Error</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"resolve-4\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-resolve-4-id219706\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L259\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>resolve(Name, Class, Type, Opts) -&gt; {ok, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_msg\">dns_msg()</a></span>} | Error</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"resolve-5\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-resolve-5-id219712\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/inet_res.xml#L259\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>resolve(Name, Class, Type, Opts, Timeout) -&gt;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{ok, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_msg\">dns_msg()</a></span>} | Error</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_name\">dns_name()</a></span> | <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-ip_address\">inet:ip_address()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Class = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_class\">dns_class()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Type = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-rr_type\">rr_type()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Opts = [Opt]</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Opt = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_option\">res_option()</a></span> | verbose | atom()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Timeout = timeout()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Error = {error, Reason} | {error, {Reason, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dns_msg\">dns_msg()</a></span>}}</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Reason = <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/inet#type-posix\">inet:posix()</a></span> | <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-res_error\">res_error()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Resolves a DNS record of the specified type and class for the specified name. The returned <span class=\"code\">dns_msg()</span> can be examined using access functions in <span class=\"code\">inet_db</span>, as described in section in <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#dns_types\">DNS Types</a></span>.</p> <p>If <span class=\"code\">Name</span> is an <span class=\"code\">ip_address()</span>, the domain name to query for is generated as the standard reverse <span class=\"code\">&quot;.IN-ADDR.ARPA.&quot;</span> name for an IPv4 address, or the <span class=\"code\">&quot;.IP6.ARPA.&quot;</span> name for an IPv6 address. In this case, you most probably want to use <span class=\"code\">Class = in</span> and <span class=\"code\">Type = ptr</span>, but it is not done automatically.</p> <p><span class=\"code\">Opts</span> overrides the corresponding resolver options. If option <span class=\"code\">nameservers</span> is specified, it is assumed that it is the complete list of name serves, so resolver option <span class=\"code\">alt_nameserves</span> is ignored. However, if option <span class=\"code\">alt_nameserves</span> is also specified to this function, it is used.</p> <p>Option <span class=\"code\">verbose</span> (or rather <span class=\"code\">{verbose,true}</span>) causes diagnostics printout through <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/io#format-3\"><span class=\"code\">io:format/2</span></a></span> of queries, replies retransmissions, and so on, similar to from utilities, such as <span class=\"code\">dig</span> and <span class=\"code\">nslookup</span>.</p> <p>If <span class=\"code\">Opt</span> is any atom, it is interpreted as <span class=\"code\">{Opt,true}</span> unless the atom string starts with <span class=\"code\">&quot;no&quot;</span>, making the interpretation <span class=\"code\">{Opt,false}</span>. For example, <span class=\"code\">usevc</span> is an alias for <span class=\"code\">{usevc,true}</span> and <span class=\"code\">nousevc</span> is an alias for <span class=\"code\">{usevc,false}</span>.</p> <p>Option <span class=\"code\">inet6</span> has no effect on this function. You probably want to use <span class=\"code\">Type = a | aaaa</span> instead.</p> <p></p></div> "}