{"summary":"Grouping nodes to global name registration groups.","description":"<p> </p><p>This module makes it possible to partition the nodes of a system into <strong>global groups</strong>. Each global group has its own global namespace, see <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/global\"><span class=\"code\">global(3)</span></a></span>.</p> <p>The main advantage of dividing systems into global groups is that the background load decreases while the number of nodes to be updated is reduced when manipulating globally registered names.</p> <p>The Kernel configuration parameter <span class=\"code\">global_groups</span> defines the global groups (see also <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/kernel_app#global_groups\"><span class=\"code\">kernel(6)</span></a></span> and <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/config\"><span class=\"code\">config(4)</span></a></span>):</p> <div class=\"example example-none\"><pre>{global_groups, [GroupTuple :: group_tuple()]}</pre></div> <p>For the processes and nodes to run smoothly using the global group functionality, the following criteria must be met:</p> <ul> <li> <p>An instance of the global group server, <span class=\"code\">global_group</span>, must be running on each node. The processes are automatically started and synchronized when a node is started.</p> </li> <li> <p>All involved nodes must agree on the global group definition, otherwise the behavior of the system is undefined.</p> </li> <li> <p><strong>All</strong> nodes in the system must belong to exactly one global group.</p> </li> </ul> <p>In the following descriptions, a <strong>group node</strong> is a node belonging to the same global group as the local node.</p> <p></p>","funcs":" <a name=\"global_groups-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-global_groups-0-id218017\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L107\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>global_groups() -&gt; {GroupName, GroupNames} | undefined</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">GroupName = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-group_name\">group_name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">GroupNames = [GroupName]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns a tuple containing the name of the global group that the local node belongs to, and the list of all other known group names. Returns <span class=\"code\">undefined</span> if no global groups are defined.</p> <p></p></div> <a name=\"info-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-info-0-id218040\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L118\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>info() -&gt; [info_item()]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">info_item() = <br>&#xA0;&#xA0;&#xA0;&#xA0;{state, State :: sync_state()} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{own_group_name, GroupName :: <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-group_name\">group_name()</a></span>} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{own_group_nodes, Nodes :: [node()]} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{synched_nodes, Nodes :: [node()]} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{sync_error, Nodes :: [node()]} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{no_contact, Nodes :: [node()]} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{other_groups, Groups :: [<span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-group_tuple\">group_tuple()</a></span>]} |<br>&#xA0;&#xA0;&#xA0;&#xA0;{monitoring, Pids :: [pid()]}</span><br></div><div class=\"REFTYPES rt-2\"> <span class=\"bold_code bc-5\">sync_state() = no_conf | synced</span><br></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns a list containing information about the global groups. Each list element is a tuple. The order of the tuples is undefined.</p> <dl> <dt><strong><span class=\"code\">{state, State}</span></strong></dt> <dd> <p>If the local node is part of a global group, <span class=\"code\">State</span> is equal to <span class=\"code\">synced</span>. If no global groups are defined, <span class=\"code\">State</span> is equal to <span class=\"code\">no_conf</span>.</p> </dd> <dt><strong><span class=\"code\">{own_group_name, GroupName}</span></strong></dt> <dd> <p>The name (atom) of the group that the local node belongs to.</p> </dd> <dt><strong><span class=\"code\">{own_group_nodes, Nodes}</span></strong></dt> <dd> <p>A list of node names (atoms), the group nodes.</p> </dd> <dt><strong><span class=\"code\">{synced_nodes, Nodes}</span></strong></dt> <dd> <p>A list of node names, the group nodes currently synchronized with the local node.</p> </dd> <dt><strong><span class=\"code\">{sync_error, Nodes}</span></strong></dt> <dd> <p>A list of node names, the group nodes with which the local node has failed to synchronize.</p> </dd> <dt><strong><span class=\"code\">{no_contact, Nodes}</span></strong></dt> <dd> <p>A list of node names, the group nodes to which there are currently no connections.</p> </dd> <dt><strong><span class=\"code\">{other_groups, Groups}</span></strong></dt> <dd> <p><span class=\"code\">Groups</span> is a list of tuples <span class=\"code\">{GroupName, Nodes}</span>, specifying the name and nodes of the other global groups.</p> </dd> <dt><strong><span class=\"code\">{monitoring, Pids}</span></strong></dt> <dd> <p>A list of pids, specifying the processes that have subscribed to <span class=\"code\">nodeup</span> and <span class=\"code\">nodedown</span> messages.</p> </dd> </dl> <p></p></div> <a name=\"monitor_nodes-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-monitor_nodes-1-id218462\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L175\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>monitor_nodes(Flag) -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Flag = boolean()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Depending on <span class=\"code\">Flag</span>, the calling process starts subscribing (<span class=\"code\">Flag</span> equal to <span class=\"code\">true</span>) or stops subscribing (<span class=\"code\">Flag</span> equal to <span class=\"code\">false</span>) to node status change messages.</p> <p>A process that has subscribed receives the messages <span class=\"code\">{nodeup, Node}</span> and <span class=\"code\">{nodedown, Node}</span> when a group node connects or disconnects, respectively.</p> <p></p></div> <a name=\"own_nodes-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-own_nodes-0-id218583\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L189\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>own_nodes() -&gt; Nodes</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Nodes = [Node :: node()]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns the names of all group nodes, regardless of their current status.</p> <p></p></div> <a name=\"registered_names-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-registered_names-1-id218574\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L198\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>registered_names(Where) -&gt; Names</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Where = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-where\">where()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Names = [Name :: <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span>]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Returns a list of all names that are globally registered on the specified node or in the specified global group.</p> <p></p></div> <a name=\"send-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-send-2-id218696\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L207\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>send(Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"send-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-send-3-id218574\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L207\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>send(Where, Name, Msg) -&gt; pid() | {badarg, {Name, Msg}}</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Where = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-where\">where()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Msg = term()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Searches for <span class=\"code\">Name</span>, globally registered on the specified node or in the specified global group, or (if argument <span class=\"code\">Where</span> is not provided) in any global group. The global groups are searched in the order that they appear in the value of configuration parameter <span class=\"code\">global_groups</span>.</p> <p>If <span class=\"code\">Name</span> is found, message <span class=\"code\">Msg</span> is sent to the corresponding pid. The pid is also the return value of the function. If the name is not found, the function returns <span class=\"code\">{badarg, {Name, Msg}}</span>.</p> <p></p></div> <a name=\"sync-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-sync-0-id218839\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L226\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>sync() -&gt; ok</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p>Synchronizes the group nodes, that is, the global name servers on the group nodes. Also checks the names globally registered in the current global group and unregisters them on any known node not part of the group.</p> <p>If synchronization is not possible, an error report is sent to the error logger (see also <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/error_logger\"><span class=\"code\">error_logger(3)</span></a></span>. </p> <p>Returns <span class=\"code\">{error, {&apos;invalid global_groups definition&apos;, Bad}}</span> if configuration parameter <span class=\"code\">global_groups</span> has an invalid value <span class=\"code\">Bad</span>.</p> <p></p></div> <a name=\"whereis_name-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-whereis_name-1-id219041\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L244\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>whereis_name(Name) -&gt; pid() | undefined</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"whereis_name-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-whereis_name-2-id219036\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/global_group.xml#L244\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>whereis_name(Where, Name) -&gt; pid() | undefined</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Where = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-where\">where()</a></span></span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-name\">name()</a></span></span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Searches for <span class=\"code\">Name</span>, globally registered on the specified node or in the specified global group, or (if argument <span class=\"code\">Where</span> is not provided) in any global group. The global groups are searched in the order that they appear in the value of configuration parameter <span class=\"code\">global_groups</span>.</p> <p>If <span class=\"code\">Name</span> is found, the corresponding pid is returned. If the name is not found, the function returns <span class=\"code\">undefined</span>.</p> <p></p></div> "}