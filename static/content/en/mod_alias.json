{"summary":"URL aliasing.","description":"<p> </p><p>Erlang web server internal API for handling of, for example, interaction data exported by module <span class=\"code\">mod_alias</span>.</p> <a name=\"default_index\"></a> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-default_index-2-id84793\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/mod_alias.xml#L42\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"default_index-2\" href=\"/erldoc/docs/#default_index-2\">default_index(ConfigDB, Path) -&gt; NewPath</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ConfigDB = config_db()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Path = NewPath = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> <a name=\"default_index\"></a> </p><p>If <span class=\"code\">Path</span> is a directory, <span class=\"code\">default_index/2</span>, it starts searching for resources or files that are specified in the config directive <span class=\"code\">DirectoryIndex</span>. If an appropriate resource or file is found, it is appended to the end of <span class=\"code\">Path</span> and then returned. <span class=\"code\">Path</span> is returned unaltered if no appropriate file is found or if <span class=\"code\">Path</span> is not a directory. <span class=\"code\">config_db()</span> is the server config file in ETS table format as described in <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/inets/http_server\">Inets User&apos;s Guide</a></span>.</p> <a name=\"path\"></a> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-path-3-id84872\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/mod_alias.xml#L66\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"path-3\" href=\"/erldoc/docs/#path-3\">path(PathData, ConfigDB, RequestURI) -&gt; Path</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">PathData = interaction_data()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ConfigDB = config_db()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">RequestURI = Path = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> <a name=\"path\"></a> </p><p><span class=\"code\">path/3</span> returns the file <span class=\"code\">Path</span> in the <span class=\"code\">RequestURI</span> (see <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.rfc-base.org/rfc-1945\">RFC 1945</a></span>). If the interaction data <span class=\"code\">{real_name,{Path,AfterPath}}</span> has been exported by <span class=\"code\">mod_alias</span>, <span class=\"code\">Path</span> is returned. If no interaction data has been exported, <span class=\"code\">ServerRoot</span> is used to generate a file <span class=\"code\">Path</span>. <span class=\"code\">config_db()</span> and <span class=\"code\">interaction_data()</span> are as defined in <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/inets/http_server\">Inets User&apos;s Guide</a></span>.</p> <a name=\"real_name\"></a> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-real_name-3-id84969\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/mod_alias.xml#L91\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"real_name-3\" href=\"/erldoc/docs/#real_name-3\">real_name(ConfigDB, RequestURI, Aliases) -&gt; Ret</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ConfigDB = config_db()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">RequestURI = string()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Aliases = [{FakeName,RealName}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Ret = {ShortPath,Path,AfterPath}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ShortPath = Path = AfterPath = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> <a name=\"real_name\"></a> </p><p><span class=\"code\">real_name/3</span> traverses <span class=\"code\">Aliases</span>, typically extracted from <span class=\"code\">ConfigDB</span>, and matches each <span class=\"code\">FakeName</span> with <span class=\"code\">RequestURI</span>. If a match is found, <span class=\"code\">FakeName</span> is replaced with <span class=\"code\">RealName</span> in the match. The resulting path is split into two parts, <span class=\"code\">ShortPath</span> and <span class=\"code\">AfterPath</span>, as defined in <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/httpd_util#split_path-1\">httpd_util:split_path/1</a></span>. <span class=\"code\">Path</span> is generated from <span class=\"code\">ShortPath</span>, that is, the result from <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#default_index\">default_index/2</a></span> with <span class=\"code\">ShortPath</span> as an argument. <span class=\"code\">config_db()</span> is the server config file in ETS table format as described in <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/inets/http_server\">Inets User&apos;s Guide</a></span>.</p> <a name=\"real_script_name\"></a> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-real_script_name-3-id85095\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/mod_alias.xml#L122\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"real_script_name-3\" href=\"/erldoc/docs/#real_script_name-3\">real_script_name(ConfigDB, RequestURI, ScriptAliases) -&gt; Ret</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ConfigDB = config_db()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">RequestURI = string()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ScriptAliases = [{FakeName,RealName}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Ret = {ShortPath,AfterPath} | not_a_script</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">ShortPath = AfterPath = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> <a name=\"real_script_name\"></a> </p><p><span class=\"code\">real_script_name/3</span> traverses <span class=\"code\">ScriptAliases</span>, typically extracted from <span class=\"code\">ConfigDB</span>, and matches each <span class=\"code\">FakeName</span> with <span class=\"code\">RequestURI</span>. If a match is found, <span class=\"code\">FakeName</span> is replaced with <span class=\"code\">RealName</span> in the match. If the resulting match is not an executable script, <span class=\"code\">not_a_script</span> is returned. If it is a script, the resulting script path is in two parts, <span class=\"code\">ShortPath</span> and <span class=\"code\">AfterPath</span>, as defined in <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/httpd_util#split_script_path-1\">httpd_util:split_script_path/1</a></span>. <span class=\"code\">config_db()</span> is the server config file in ETS table format as described in <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/inets/http_server\">Inets User&apos;s Guide</a></span>.</p> <p></p></div> "}