{"summary":"Load distribution facility.","description":"<p> </p><p>This module can be used to run a set of Erlang nodes as a pool of computational processors. It is organized as a master and a set of slave nodes and includes the following features:</p> <ul> <li>The slave nodes send regular reports to the master about their current load.</li> <li>Queries can be sent to the master to determine which node will have the least load.</li> </ul> <p>The BIF <span class=\"code\">statistics(run_queue)</span> is used for estimating future loads. It returns the length of the queue of ready to run processes in the Erlang runtime system.</p> <p>The slave nodes are started with the <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/slave\"><span class=\"code\">slave(3)</span></a></span> module. This effects terminal I/O, file I/O, and code loading.</p> <p>If the master node fails, the entire pool exits.</p> <p></p>","funcs":" <a name=\"attach-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-attach-1-id344143\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L56\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>attach(Node) -&gt; already_attached | attached</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Node = node()</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Ensures that a pool master is running and includes <span class=\"code\">Node</span> in the pool master&apos;s pool of nodes.</p> <p></p></div> <a name=\"get_node-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_node-0-id357705\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L65\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_node() -&gt; node()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p>Returns the node with the expected lowest future load.</p> <p></p></div> <a name=\"get_nodes-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-get_nodes-0-id172451\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L73\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>get_nodes() -&gt; [node()]</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p>Returns a list of the current member nodes of the pool.</p> <p></p></div> <a name=\"pspawn-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-pspawn-3-id172451\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L82\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>pspawn(Mod, Fun, Args) -&gt; pid()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Mod = module()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Fun = atom()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Args = [term()]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Spawns a process on the pool node that is expected to have the lowest future load.</p> <p></p></div> <a name=\"pspawn_link-3\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-pspawn_link-3-id350238\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L92\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>pspawn_link(Mod, Fun, Args) -&gt; pid()</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Mod = module()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Fun = atom()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Args = [term()]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Spawns and links to a process on the pool node that is expected to have the lowest future load.</p> <p></p></div> <a name=\"start-1\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-start-1-id351599\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>start(Name) -&gt; Nodes</div></td><td class=\"func-since-td\"></td></tr></tbody></table><a name=\"start-2\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-start-2-id359098\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>start(Name, Args) -&gt; Nodes</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY fun-types\"><h3 class=\"func-types-title\">Types</h3><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Name = atom()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Args = string()</span></div><div class=\"REFTYPES rt-1\"><span class=\"bold_code bc-2\">Nodes = [node()]</span></div></div><div class=\"REFBODY rb-7\"><p> </p><p>Starts a new pool. The file <span class=\"code\">.hosts.erlang</span> is read to find host names where the pool nodes can be started; see section <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#files\">Files</a></span>. The startup procedure fails if the file is not found.</p> <p>The slave nodes are started with <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/slave#start-2\"><span class=\"code\">slave:start/2,3</span></a></span>, passing along <span class=\"code\">Name</span> and, if provided, <span class=\"code\">Args</span>. <span class=\"code\">Name</span> is used as the first part of the node names, <span class=\"code\">Args</span> is used to specify command-line arguments.</p> <p>Access rights must be set so that all nodes in the pool have the authority to access each other.</p> <p>The function is synchronous and all the nodes, and all the system servers, are running when it returns a value.</p> <p></p></div> <a name=\"stop-0\"></a><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code func-head\" ><span id=\"ghlink-stop-0-id348248\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/stdlib/doc/src/pool.xml#L124\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span>stop() -&gt; stopped</div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-7\"><p> </p><p>Stops the pool and kills all the slave nodes.</p> <p></p></div> ","name":"pool"}