{"summary":"A framework for automated testing of any target nodes.","description":"<p> </p><p>The <span class=\"code\">Common Test</span> framework is an environment for implementing and performing automatic and semi-automatic execution of test cases.</p> <p>In brief, <span class=\"code\">Common Test</span> supports:</p> <ul> <li>Automated execution of test suites (sets of test cases)</li> <li>Logging of events during execution</li> <li>HTML presentation of test suite results</li> <li>HTML presentation of test suite code</li> <li>Support functions for test suite authors</li> <li>Step-by-step execution of test cases</li> </ul> <p>The following section describes the mandatory and optional test suite functions that <span class=\"code\">Common Test</span> calls during test execution. For more details, see section <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter\">Writing Test Suites</a></span> in the User&apos;s Guide.</p> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:all-0-id65037\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L70\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:all-0\" href=\"/erldoc/docs/#Module:all-0\">Module:all() -&gt; Tests | {skip,Reason} </a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Tests = [TestCase | {testcase,TestCase,TCRepeatProps} | {group,GroupName} | {group,GroupName,Properties} | {group,GroupName,Properties,SubGroups}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TestCase = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TCRepeatProps = [{repeat,N} | {repeat_until_ok,N} | {repeat_until_fail,N}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupName = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Properties = [parallel | sequence | Shuffle | {GroupRepeatType,N}] | default</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubGroups = [{GroupName,Properties} | {GroupName,Properties,SubGroups}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Shuffle = shuffle | {shuffle,Seed}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Seed = {integer(),integer(),integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupRepeatType = repeat | repeat_until_all_ok | repeat_until_all_fail | repeat_until_any_ok | repeat_until_any_fail</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">N = integer() | forever</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>MANDATORY</p> <p>Returns the list of all test cases and test case groups in the test suite module to be executed. This list also specifies the order the cases and groups are executed by <span class=\"code\">Common Test</span>. A test case is represented by an atom, the name of the test case function, or a <span class=\"code\">testcase</span> tuple indicating that the test case shall be repeated. A test case group is represented by a <span class=\"code\">group</span> tuple, where <span class=\"code\">GroupName</span>, an atom, is the name of the group (defined in <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:groups-0\"><span class=\"code\">groups/0</span></a></span>). Execution properties for groups can also be specified, both for a top-level group and for any of its subgroups. Group execution properties specified here override properties in the group definition (see <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:groups-0\"><span class=\"code\">groups/0</span></a></span>). (With value <span class=\"code\">default</span>, the group definition properties are used).</p> <p>If <span class=\"code\">{skip,Reason}</span> is returned, all test cases in the module are skipped and <span class=\"code\">Reason</span> is printed on the HTML result page.</p> <p>For details on groups, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#test_case_groups\">Test Case Groups</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:groups-0-id62488\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L119\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:groups-0\" href=\"/erldoc/docs/#Module:groups-0\">Module:groups() -&gt; GroupDefs</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupDefs = [Group]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Group = {GroupName,Properties,GroupsAndTestCases}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupName = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Properties = [parallel | sequence | Shuffle | {GroupRepeatType,N}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupsAndTestCases = [Group | {group,GroupName} | TestCase | {testcase,TestCase,TCRepeatProps}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TestCase = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TCRepeatProps = [{repeat,N} | {repeat_until_ok,N} | {repeat_until_fail,N}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Shuffle = shuffle | {shuffle,Seed}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Seed = {integer(),integer(),integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupRepeatType = repeat | repeat_until_all_ok | repeat_until_all_fail | repeat_until_any_ok | repeat_until_any_fail</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">N = integer() | forever</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL</p> <p>Defines test case groups. For details, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#test_case_groups\">Test Case Groups</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:suite-0-id70386\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L145\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:suite-0\" href=\"/erldoc/docs/#Module:suite-0\">Module:suite() -&gt; [Info] </a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Info = {timetrap,Time} | {require,Required} | {require,Name,Required} | {userdata,UserData} | {silent_connections,Conns} | {stylesheet,CSSFile} | {ct_hooks, CTHs}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Time = TimeVal | TimeFunc</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeVal = MilliSec | {seconds,integer()} | {minutes,integer()} | {hours,integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeFunc = {Mod,Func,Args} | Fun</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MilliSec = integer()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Mod = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Func = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Args = list()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Fun = fun()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Required = Key | {Key,SubKeys} | {Key,SubKey} | {Key,SubKey,SubKeys}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKeys = SubKey | [SubKey]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKey = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Name = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">UserData = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Conns = [atom()]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CSSFile = string()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHs = [CTHModule |</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{CTHModule, CTHInitArgs} |</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{CTHModule, CTHInitArgs, CTHPriority}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHModule = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHInitArgs = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL</p> <p>The test suite information function.\tReturns a list of tagged tuples specifying various properties related to the execution of this test suite (common for all test cases in the suite).</p> <p>Tag <span class=\"code\">timetrap</span> sets the maximum time that each test case is allowed to execute (including <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_testcase-2\"><span class=\"code\">init_per_testcase/2</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_testcase-2\"><span class=\"code\">end_per_testcase/2</span></a></span>). If the timetrap time is exceeded, the test case fails with reason <span class=\"code\">timetrap_timeout</span>. A <span class=\"code\">TimeFunc</span> function can be used to set a new timetrap by returning a <span class=\"code\">TimeVal</span>. It can also be used to trigger a timetrap time-out by, at some point, returning a value other than a <span class=\"code\">TimeVal</span>. For details, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#timetraps\">Timetrap Time-Outs</a></span> in the User&apos;s Guide.</p> <p>Tag <span class=\"code\">require</span> specifies configuration variables required by test cases (or configuration functions) in the suite. If the required configuration variables are not found in any of the configuration files, all test cases are skipped. For details about the <span class=\"code\">require</span> functionality, see funtion <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#require-1\"><span class=\"code\">ct:require/1,2</span></a></span>.</p> <p>With <span class=\"code\">userdata</span>, the user can specify any test suite-related information, which can be read by calling <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#userdata-2\"><span class=\"code\">ct:userdata/2</span></a></span>.</p> <p>Tag <span class=\"code\">ct_hooks</span> specifies the <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/common_test/ct_hooks_chapter\">Common Test Hooks</a></span> to be run with this suite.</p> <p>Other tuples than the ones defined are ignored.</p> <p>For details about the test suite information function, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#suite\">Test Suite Information Function</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:init_per_suite-1-id64769\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L218\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:init_per_suite-1\" href=\"/erldoc/docs/#Module:init_per_suite-1\">Module:init_per_suite(Config) -&gt; NewConfig | {skip,Reason} | {skip_and_save,Reason,SaveConfig}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = NewConfig = SaveConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_suite-1\"><span class=\"code\">end_per_suite/1</span></a></span> must also be defined.</p> <p>This configuration function is called as the first function in the suite. It typically contains initializations that are common for all test cases in the suite, and that must only be done once. Parameter <span class=\"code\">Config</span> is the configuration data that can be modified. Whatever is returned from this function is specified as <span class=\"code\">Config</span> to all configuration functions and test cases in the suite.</p> <p>If <span class=\"code\">{skip,Reason}</span> is returned, all test cases in the suite are skipped and <span class=\"code\">Reason</span> is printed in the overview log for the suite.</p> <p>For information on <span class=\"code\">save_config</span> and <span class=\"code\">skip_and_save</span>, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/dependencies_chapter#save_config\">Saving Configuration Data</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:end_per_suite-1-id71454\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L253\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:end_per_suite-1\" href=\"/erldoc/docs/#Module:end_per_suite-1\">Module:end_per_suite(Config) -&gt; term() | {save_config,SaveConfig}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = SaveConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_suite-1\"><span class=\"code\">init_per_suite/1</span></a></span> must also be defined.</p> <p>This function is called as the last test case in the suite. It is meant to be used for cleaning up after <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_suite-1\"><span class=\"code\">init_per_suite/1</span></a></span>.</p> <p>For information on <span class=\"code\">save_config</span>, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/dependencies_chapter#save_config\">Saving Configuration Data</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:group-1-id63524\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L277\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:group-1\" href=\"/erldoc/docs/#Module:group-1\">Module:group(GroupName) -&gt; [Info] </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP R15B</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Info = {timetrap,Time} | {require,Required} | {require,Name,Required} | {userdata,UserData} | {silent_connections,Conns} | {stylesheet,CSSFile} | {ct_hooks, CTHs}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Time = TimeVal | TimeFunc</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeVal = MilliSec | {seconds,integer()} | {minutes,integer()} | {hours,integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeFunc = {Mod,Func,Args} | Fun</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MilliSec = integer()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Mod = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Func = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Args = list()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Fun = fun()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Required = Key | {Key,SubKeys} | {Key,Subkey} | {Key,Subkey,SubKeys}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKeys = SubKey | [SubKey]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKey = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Name = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">UserData = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Conns = [atom()]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CSSFile = string()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHs = [CTHModule |</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{CTHModule, CTHInitArgs} |</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;{CTHModule, CTHInitArgs, CTHPriority}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHModule = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">CTHInitArgs = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL</p> <p>The test case group information function. It is supposed to return a list of tagged tuples that specify various properties related to the execution of a test case group (that is, its test cases and subgroups). Properties set by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:group-1\"><span class=\"code\">group/1</span></a></span> override properties with the same key that have been set previously by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:suite-0\"><span class=\"code\">suite/0</span></a></span>.</p> <p>Tag <span class=\"code\">timetrap</span> sets the maximum time that each test case is allowed to execute (including <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_testcase-2\"><span class=\"code\">init_per_testcase/2</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_testcase-2\"><span class=\"code\">end_per_testcase/2</span></a></span>). If the timetrap time is exceeded, the test case fails with reason <span class=\"code\">timetrap_timeout</span>. A <span class=\"code\">TimeFunc</span> function can be used to set a new timetrap by returning a <span class=\"code\">TimeVal</span>. It can also be used to trigger a timetrap time-out by, at some point, returning a value other than a <span class=\"code\">TimeVal</span>. For details, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#timetraps\">Timetrap Time-Outs</a></span> in the User&apos;s Guide.</p> <p>Tag <span class=\"code\">require</span> specifies configuration variables required by test cases (or configuration functions) in the suite. If the required configuration variables are not found in any of the configuration files, all test cases in this group are skipped. For details about the <span class=\"code\">require</span> functionality, see function <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#require-1\"><span class=\"code\">ct:require/1,2</span></a></span>.</p> <p>With <span class=\"code\">userdata</span>, the user can specify any test case group related information that can be read by calling <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#userdata-2\"><span class=\"code\">ct:userdata/2</span></a></span>.</p> <p>Tag <span class=\"code\">ct_hooks</span> specifies the <span class=\"bold_code bc-19\"><a href=\"/erldoc/docs/../apps/common_test/ct_hooks_chapter\">Common Test Hooks</a></span> to be run with this suite.</p> <p>Other tuples than the ones defined are ignored.</p> <p>For details about the test case group information function, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#group_info\">Group Information Function</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:init_per_group-2-id79517\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L357\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:init_per_group-2\" href=\"/erldoc/docs/#Module:init_per_group-2\">Module:init_per_group(GroupName, Config) -&gt; NewConfig | {skip,Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupName = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = NewConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_group-2\"><span class=\"code\">end_per_group/2</span></a></span> must also be defined.</p> <p>This configuration function is called before execution of a test case group. It typically contains initializations that are common for all test cases and subgroups in the group, and that must only be performed once. <span class=\"code\">GroupName</span> is the name of the group, as specified in the group definition (see <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:groups-0\"><span class=\"code\">groups/0</span></a></span>). Parameter <span class=\"code\">Config</span> is the configuration data that can be modified. The return value of this function is given as <span class=\"code\">Config</span> to all test cases and subgroups in the group.</p> <p>If <span class=\"code\">{skip,Reason}</span> is returned, all test cases in the group are skipped and <span class=\"code\">Reason</span> is printed in the overview log for the group.</p> <p>For information about test case groups, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#test_case_groups\">Test Case Groups</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:end_per_group-2-id79616\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L395\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:end_per_group-2\" href=\"/erldoc/docs/#Module:end_per_group-2\">Module:end_per_group(GroupName, Config) -&gt; term() | {return_group_result,Status}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">GroupName = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Status = ok | skipped | failed</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_group-2\"><span class=\"code\">init_per_group/2</span></a></span> must also be defined.</p> <p>This function is called after the execution of a test case group is finished. It is meant to be used for cleaning up after <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_group-2\"><span class=\"code\">init_per_group/2</span></a></span>. A status value for a nested subgroup can be returned with <span class=\"code\">{return_group_result,Status}</span>. The status can be retrieved in <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_group-2\"><span class=\"code\">end_per_group/2</span></a></span> for the group on the level above. The status is also used by <span class=\"code\">Common Test</span> for deciding if execution of a group is to proceed if property <span class=\"code\">sequence</span> or <span class=\"code\">repeat_until_*</span> is set.</p> <p>For details about test case groups, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#test_case_groups\">Test Case Groups</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:init_per_testcase-2-id79713\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L429\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:init_per_testcase-2\" href=\"/erldoc/docs/#Module:init_per_testcase-2\">Module:init_per_testcase(TestCase, Config) -&gt; NewConfig | {fail,Reason} | {skip,Reason}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> TestCase = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Config = NewConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_testcase-2\"><span class=\"code\">end_per_testcase/2</span></a></span> must also be defined.</p> <p>This function is called before each test case. Argument <span class=\"code\">TestCase</span> is the test case name, and <span class=\"code\">Config</span> (list of key-value tuples) is the configuration data that can be modified. The <span class=\"code\">NewConfig</span> list returned from this function is given as <span class=\"code\">Config</span> to the test case. If <span class=\"code\">{fail,Reason}</span> is returned, the test case is marked as failed without being executed.</p> <p>If <span class=\"code\">{skip,Reason}</span> is returned, the test case is skipped and <span class=\"code\">Reason</span> is printed in the overview log for the suite.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:end_per_testcase-2-id79802\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L459\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:end_per_testcase-2\" href=\"/erldoc/docs/#Module:end_per_testcase-2\">Module:end_per_testcase(TestCase, Config) -&gt; term() | {fail,Reason} | {save_config,SaveConfig}</a></span></div></td><td class=\"func-since-td\"></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TestCase = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = SaveConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL; if this function is defined, then <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_testcase-2\"><span class=\"code\">init_per_testcase/2</span></a></span> must also be defined.</p> <p>This function is called after each test case, and can be used to clean up after <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_testcase-2\"><span class=\"code\">init_per_testcase/2</span></a></span> and the test case. Any return value (besides <span class=\"code\">{fail,Reason}</span> and <span class=\"code\">{save_config,SaveConfig}</span>) is ignored. By returning <span class=\"code\">{fail,Reason}</span>, <span class=\"code\">TestCase</span> is marked as faulty (even though it was successful in the sense that it returned a value instead of terminating).</p> <p>For information on <span class=\"code\">save_config</span>, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/dependencies_chapter#save_config\">Saving Configuration Data</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:Testcase-0-id79900\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L491\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:Testcase-0\" href=\"/erldoc/docs/#Module:Testcase-0\">Module:Testcase() -&gt; [Info] </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP R14B</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Info = {timetrap,Time} | {require,Required} | {require,Name,Required} | {userdata,UserData} | {silent_connections,Conns}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Time = TimeVal | TimeFunc</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeVal = MilliSec | {seconds,integer()} | {minutes,integer()} | {hours,integer()}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">TimeFunc = {Mod,Func,Args} | Fun</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">MilliSec = integer()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Mod = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Func = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Args = list()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Fun = fun()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Required = Key | {Key,SubKeys} | {Key,Subkey} | {Key,Subkey,SubKeys}</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKeys = SubKey | [SubKey]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">SubKey = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Name = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">UserData = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Conns = [atom()]</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>OPTIONAL</p> <p>The test case information function. It is supposed to return a list of tagged tuples that specify various properties related to the execution of this particular test case. Properties set by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:Testcase-0\"><span class=\"code\">Testcase/0</span></a></span> override properties set previously for the test case by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:group-1\"><span class=\"code\">group/1</span></a></span> or <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:suite-0\"><span class=\"code\">suite/0</span></a></span>.</p> <p>Tag <span class=\"code\">timetrap</span> sets the maximum time that the test case is allowed to execute. If the timetrap time is exceeded, the test case fails with reason <span class=\"code\">timetrap_timeout</span>. <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:init_per_testcase-2\"><span class=\"code\">init_per_testcase/2</span></a></span> and <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:end_per_testcase-2\"><span class=\"code\">end_per_testcase/2</span></a></span> are included in the timetrap time. A <span class=\"code\">TimeFunc</span> function can be used to set a new timetrap by returning a <span class=\"code\">TimeVal</span>. It can also be used to trigger a timetrap time-out by, at some point, returning a value other than a <span class=\"code\">TimeVal</span>. For details, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#timetraps\">Timetrap Time-Outs</a></span> in the User&apos;s Guide.</p> <p>Tag <span class=\"code\">require</span> specifies configuration variables that are required by the test case (or <span class=\"code\">init_per_testcase/2</span> or <span class=\"code\">end_per_testcase/2</span>). If the required configuration variables are not found in any of the configuration files, the test case is skipped. For details about the <span class=\"code\">require</span> functionality, see function <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#require-1\"><span class=\"code\">ct:require/1,2</span></a></span>.</p> <p>If <span class=\"code\">timetrap</span> or <span class=\"code\">require</span> is not set, the default values specified by <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:suite-0\"><span class=\"code\">suite/0</span></a></span> (or <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#Module:group-1\"><span class=\"code\">group/1</span></a></span>) are used.</p> <p>With <span class=\"code\">userdata</span>, the user can specify any test case-related information that can be read by calling <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#userdata-3\"><span class=\"code\">ct:userdata/3</span></a></span>.</p> <p>Other tuples than the ones defined are ignored.</p> <p>For details about the test case information function, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#info_function\">Test Case Information Function</a></span> in the User&apos;s Guide.</p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-Module:Testcase-1-id102302\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/common_test/doc/src/common_test_app.xml#L565\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"Module:Testcase-1\" href=\"/erldoc/docs/#Module:Testcase-1\">Module:Testcase(Config) -&gt; term() | {skip,Reason} | {comment,Comment} | {save_config,SaveConfig} | {skip_and_save,Reason,SaveConfig} | exit() </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP R14B</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Config = SaveConfig = [{Key,Value}]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Key = atom()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Value = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Reason = term()</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\">Comment = string()</span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>MANDATORY</p> <p>The implementation of a test case. Call the functions to test and check the result. If something fails, ensure the function causes a runtime error or call <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/ct#fail-1\"><span class=\"code\">ct:fail/1,2</span></a></span> (which also causes the test case process to terminate).</p> <p>Elements from the <span class=\"code\">Config</span> list can, for example, be read with <span class=\"code\">proplists:get_value/2</span> in STDLIB (or the macro <span class=\"code\">?config</span> defined in <span class=\"code\">ct.hrl</span>).</p> <p>If you decide not to run the test case after all, return <span class=\"code\">{skip,Reason}</span>. <span class=\"code\">Reason</span> is then printed in field <span class=\"code\">Comment</span> on the HTML result page.</p> <p>To print some information in field <span class=\"code\">Comment</span> on the HTML result page, return <span class=\"code\">{comment,Comment}</span>.</p> <p>If the function returns anything else, the test case is considered successful. The return value always gets printed in the test case log file.</p> <p>For details about test case implementation, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/write_test_chapter#test_cases\">Test Cases</a></span> in the User&apos;s Guide.</p> <p>For information on <span class=\"code\">save_config</span> and <span class=\"code\">skip_and_save</span>, see section <span class=\"bold_code bc-15\"><a href=\"/erldoc/docs/../apps/common_test/dependencies_chapter#save_config\">Saving Configuration Data</a></span> in the User&apos;s Guide.</p> <p></p></div> "}