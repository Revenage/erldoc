{"summary":"API for a SSL/TLS CRL (Certificate Revocation List) cache.","description":"<p> </p><p> When SSL/TLS performs certificate path validation according to <span class=\"bold_code bc-20\"><a href=\"/erldoc/docs/http://www.ietf.org/rfc/rfc5280.txt\">RFC 5280 </a></span> it should also perform CRL validation checks. To enable the CRL checks the application needs access to CRLs. A database of CRLs can be set up in many different ways. This module provides the behavior of the API needed to integrate an arbitrary CRL cache with the erlang ssl application. It is also used by the application itself to provide a simple default implementation of a CRL cache. </p> <p></p>","funcs":" <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-fresh_crl-2-id88976\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L79\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"fresh_crl-2\" href=\"/erldoc/docs/#fresh_crl-2\">fresh_crl(DistributionPoint, CRL) -&gt; FreshCRL </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">@maint@</span></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-fresh_crl-2-id88982\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L79\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"fresh_crl-2\" href=\"/erldoc/docs/#fresh_crl-2\">fresh_crl(DistributionPoint, CRL) -&gt; FreshCRL | {LoggerInfo, FreshCRL}</a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 18.0</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> DistributionPoint = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dist_point\">dist_point()</a></span> </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> CRL = [<span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#type-der_encoded\">public_key:der_encoded()</a></span>] </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> FreshCRL = [<span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#type-der_encoded\">public_key:der_encoded()</a></span>] </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> LoggerInfo = {logger, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-logger_info\">logger_info()</a></span>}} </span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p> <span class=\"code\">fun fresh_crl/2 </span> will be used as input option <span class=\"code\">update_crl</span> to <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#pkix_crls_validate-3\">public_key:pkix_crls_validate/3</a></span> </p> <p>It is possible to return logger info that will be used by the TLS connection to produce log events. </p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-lookup-3-id89076\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"lookup-3\" href=\"/erldoc/docs/#lookup-3\">lookup(DistributionPoint, Issuer, DbHandle) -&gt; not_available | CRLs | {LoggerInfo, CRLs} </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">@maint@</span></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-lookup-3-id89082\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"lookup-3\" href=\"/erldoc/docs/#lookup-3\">lookup(DistributionPoint, Issuer, DbHandle) -&gt; not_available | CRLs </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 19.0</span></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-lookup-2-id89089\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L102\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"lookup-2\" href=\"/erldoc/docs/#lookup-2\">lookup(DistributionPoint, DbHandle) -&gt; not_available | CRLs </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 18.0</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> DistributionPoint = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-dist_point\">dist_point()</a></span> </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Issuer = <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#type-issuer_name\">public_key:issuer_name()</a></span> </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> DbHandle = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-crl_cache_ref\">crl_cache_ref()</a></span></span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> CRLs = [<span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#type-der_encoded\">public_key:der_encoded()</a></span>]</span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> LoggerInfo = {logger, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-logger_info\">logger_info()</a></span>}} </span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Lookup the CRLs belonging to the distribution point <span class=\"code\"> Distributionpoint</span>. This function may choose to only look in the cache or to follow distribution point links depending on how the cache is administrated. </p> <p>The <span class=\"code\">Issuer</span> argument contains the issuer name of the certificate to be checked. Normally the returned CRL should be issued by this issuer, except if the <span class=\"code\">cRLIssuer</span> field of <span class=\"code\">DistributionPoint</span> has a value, in which case that value should be used instead.</p> <p>In an earlier version of this API, the <span class=\"code\">lookup</span> function received two arguments, omitting <span class=\"code\">Issuer</span>. For compatibility, this is still supported: if there is no <span class=\"code\">lookup/3</span> function in the callback module, <span class=\"code\">lookup/2</span> is called instead.</p> <p>It is possible to return logger info that will be used by the TLS connection to produce log events. </p> <p></p></div> <table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-select-2-id89210\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L139\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"select-2\" href=\"/erldoc/docs/#select-2\">select(Issuer, DbHandle) -&gt; CRLs | {LoggerInfo, CRLs} </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">@maint@</span></td></tr></tbody></table><table class=\"func-table\"><tbody><tr class=\"func-tr\"><td class=\"func-td\"><div class=\"bold_code fun-type\"><span ><span id=\"ghlink-select-2-id89216\" class=\"ghlink\"><a href=\"/erldoc/docs/https://github.com/erlang/otp/edit/maint/lib/ssl/doc/src/ssl_crl_cache_api.xml#L139\" title=\"Found an issue with the documentation? Fix it by clicking here!\"><span class=\"pencil\"></span></a></span><a class=\"title_link\" name=\"select-2\" href=\"/erldoc/docs/#select-2\">select(Issuer, DbHandle) -&gt; CRLs </a></span></div></td><td class=\"func-since-td\"><span class=\"since\">OTP 18.0</span></td></tr></tbody></table><div class=\"REFBODY rb-5\"><h3 class=\"func-types-title\">Types</h3> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> Issuer = <span class=\"bold_code bc-13\"><a href=\"/erldoc/docs/public_key#type-issuer_name\">public_key:issuer_name()</a></span> | list() </span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> DbHandle = <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-crl_cache_ref\">cache_ref()</a></span></span><br></div> <div class=\"REFTYPES rt-4\"><span class=\"bold_code fun-param-type\"> LoggerInfo = {logger, <span class=\"bold_code bc-17\"><a href=\"/erldoc/docs/#type-logger_info\">logger_info()</a></span>} </span><br></div> </div><div class=\"REFBODY rb-7\"><p> </p><p>Select the CRLs in the cache that are issued by <span class=\"code\">Issuer</span> unless the value is a list of so called general names, see <span class=\"bold_code bc-18\"><a href=\"/erldoc/docs/../apps/public_key/public_key_records\">X509 certificates records</a></span>, originating form <span class=\"code\">#&apos;DistributionPoint&apos;.cRLissuer</span> and representing different mechanism to obtain the CRLs. The cache callback needs to use the appropriate entry to retrive the CRLs or return an empty list if it does not exist. </p> <p>It is possible to return logger info that will be used by the TLS connection to produce log events.</p> <p></p></div> ","name":"ssl_crl_cache_api"}